{"ast":null,"code":"/**\r\n * DevExtreme (ui/widget/utils.ink_ripple.js)\r\n * Version: 18.2.13\r\n * Build date: Wed May 27 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nvar $ = require(\"../../core/renderer\");\n\nvar INKRIPPLE_CLASS = \"dx-inkripple\",\n    INKRIPPLE_WAVE_CLASS = \"dx-inkripple-wave\",\n    INKRIPPLE_SHOWING_CLASS = \"dx-inkripple-showing\",\n    INKRIPPLE_HIDING_CLASS = \"dx-inkripple-hiding\";\nvar DEFAULT_WAVE_SIZE_COEFFICIENT = 2,\n    MAX_WAVE_SIZE = 4e3,\n    ANIMATION_DURATION = 300,\n    HOLD_ANIMATION_DURATION = 1e3,\n    DEFAULT_WAVE_INDEX = 0;\n\nvar render = function (args) {\n  args = args || {};\n\n  if (void 0 === args.useHoldAnimation) {\n    args.useHoldAnimation = true;\n  }\n\n  var config = {\n    waveSizeCoefficient: args.waveSizeCoefficient || DEFAULT_WAVE_SIZE_COEFFICIENT,\n    isCentered: args.isCentered || false,\n    wavesNumber: args.wavesNumber || 1,\n    durations: getDurations(args.useHoldAnimation)\n  };\n  return {\n    showWave: showWave.bind(this, config),\n    hideWave: hideWave.bind(this, config)\n  };\n};\n\nvar getInkRipple = function (element) {\n  var result = element.children(\".\" + INKRIPPLE_CLASS);\n\n  if (0 === result.length) {\n    result = $(\"<div>\").addClass(INKRIPPLE_CLASS).appendTo(element);\n  }\n\n  return result;\n};\n\nvar getWaves = function (element, wavesNumber) {\n  var inkRipple = getInkRipple(element),\n      result = inkRipple.children(\".\" + INKRIPPLE_WAVE_CLASS).toArray();\n\n  for (var i = result.length; i < wavesNumber; i++) {\n    var $currentWave = $(\"<div>\").appendTo(inkRipple).addClass(INKRIPPLE_WAVE_CLASS);\n    result.push($currentWave[0]);\n  }\n\n  return $(result);\n};\n\nvar getWaveStyleConfig = function (args, config) {\n  var left,\n      top,\n      element = config.element,\n      elementWidth = element.outerWidth(),\n      elementHeight = element.outerHeight(),\n      elementDiagonal = parseInt(Math.sqrt(elementWidth * elementWidth + elementHeight * elementHeight)),\n      waveSize = Math.min(MAX_WAVE_SIZE, parseInt(elementDiagonal * args.waveSizeCoefficient));\n\n  if (args.isCentered) {\n    left = (elementWidth - waveSize) / 2;\n    top = (elementHeight - waveSize) / 2;\n  } else {\n    var event = config.event,\n        position = config.element.offset(),\n        x = event.pageX - position.left,\n        y = event.pageY - position.top;\n    left = x - waveSize / 2;\n    top = y - waveSize / 2;\n  }\n\n  return {\n    left: left,\n    top: top,\n    height: waveSize,\n    width: waveSize\n  };\n};\n\nvar showWave = function (args, config) {\n  var $wave = getWaves(config.element, args.wavesNumber).eq(config.wave || DEFAULT_WAVE_INDEX);\n  args.hidingTimeout && clearTimeout(args.hidingTimeout);\n  hideSelectedWave($wave);\n  $wave.css(getWaveStyleConfig(args, config));\n  args.showingTimeout = setTimeout(showingWaveHandler.bind(this, args, $wave), 0);\n};\n\nvar showingWaveHandler = function (args, $wave) {\n  var durationCss = args.durations.showingScale + \"ms\";\n  $wave.addClass(INKRIPPLE_SHOWING_CLASS).css(\"transitionDuration\", durationCss);\n};\n\nvar getDurations = function (useHoldAnimation) {\n  return {\n    showingScale: useHoldAnimation ? HOLD_ANIMATION_DURATION : ANIMATION_DURATION,\n    hidingScale: ANIMATION_DURATION,\n    hidingOpacity: ANIMATION_DURATION\n  };\n};\n\nvar hideSelectedWave = function ($wave) {\n  $wave.removeClass(INKRIPPLE_HIDING_CLASS).css(\"transitionDuration\", \"\");\n};\n\nvar hideWave = function (args, config) {\n  args.showingTimeout && clearTimeout(args.showingTimeout);\n  var $wave = getWaves(config.element, config.wavesNumber).eq(config.wave || DEFAULT_WAVE_INDEX),\n      durations = args.durations,\n      durationCss = durations.hidingScale + \"ms, \" + durations.hidingOpacity + \"ms\";\n  $wave.addClass(INKRIPPLE_HIDING_CLASS).removeClass(INKRIPPLE_SHOWING_CLASS).css(\"transitionDuration\", durationCss);\n  var animationDuration = Math.max(durations.hidingScale, durations.hidingOpacity);\n  args.hidingTimeout = setTimeout(hideSelectedWave.bind(this, $wave), animationDuration);\n};\n\nmodule.exports = {\n  render: render\n};","map":{"version":3,"sources":["C:/Users/abdel/PhpstormProjects/editeur_scenario_jeu/node_modules/devextreme/ui/widget/utils.ink_ripple.js"],"names":["$","require","INKRIPPLE_CLASS","INKRIPPLE_WAVE_CLASS","INKRIPPLE_SHOWING_CLASS","INKRIPPLE_HIDING_CLASS","DEFAULT_WAVE_SIZE_COEFFICIENT","MAX_WAVE_SIZE","ANIMATION_DURATION","HOLD_ANIMATION_DURATION","DEFAULT_WAVE_INDEX","render","args","useHoldAnimation","config","waveSizeCoefficient","isCentered","wavesNumber","durations","getDurations","showWave","bind","hideWave","getInkRipple","element","result","children","length","addClass","appendTo","getWaves","inkRipple","toArray","i","$currentWave","push","getWaveStyleConfig","left","top","elementWidth","outerWidth","elementHeight","outerHeight","elementDiagonal","parseInt","Math","sqrt","waveSize","min","event","position","offset","x","pageX","y","pageY","height","width","$wave","eq","wave","hidingTimeout","clearTimeout","hideSelectedWave","css","showingTimeout","setTimeout","showingWaveHandler","durationCss","showingScale","hidingScale","hidingOpacity","removeClass","animationDuration","max","module","exports"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (ui/widget/utils.ink_ripple.js)\r\n * Version: 18.2.13\r\n * Build date: Wed May 27 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nvar $ = require(\"../../core/renderer\");\r\nvar INKRIPPLE_CLASS = \"dx-inkripple\",\r\n    INKRIPPLE_WAVE_CLASS = \"dx-inkripple-wave\",\r\n    INKRIPPLE_SHOWING_CLASS = \"dx-inkripple-showing\",\r\n    INKRIPPLE_HIDING_CLASS = \"dx-inkripple-hiding\";\r\nvar DEFAULT_WAVE_SIZE_COEFFICIENT = 2,\r\n    MAX_WAVE_SIZE = 4e3,\r\n    ANIMATION_DURATION = 300,\r\n    HOLD_ANIMATION_DURATION = 1e3,\r\n    DEFAULT_WAVE_INDEX = 0;\r\nvar render = function(args) {\r\n    args = args || {};\r\n    if (void 0 === args.useHoldAnimation) {\r\n        args.useHoldAnimation = true\r\n    }\r\n    var config = {\r\n        waveSizeCoefficient: args.waveSizeCoefficient || DEFAULT_WAVE_SIZE_COEFFICIENT,\r\n        isCentered: args.isCentered || false,\r\n        wavesNumber: args.wavesNumber || 1,\r\n        durations: getDurations(args.useHoldAnimation)\r\n    };\r\n    return {\r\n        showWave: showWave.bind(this, config),\r\n        hideWave: hideWave.bind(this, config)\r\n    }\r\n};\r\nvar getInkRipple = function(element) {\r\n    var result = element.children(\".\" + INKRIPPLE_CLASS);\r\n    if (0 === result.length) {\r\n        result = $(\"<div>\").addClass(INKRIPPLE_CLASS).appendTo(element)\r\n    }\r\n    return result\r\n};\r\nvar getWaves = function(element, wavesNumber) {\r\n    var inkRipple = getInkRipple(element),\r\n        result = inkRipple.children(\".\" + INKRIPPLE_WAVE_CLASS).toArray();\r\n    for (var i = result.length; i < wavesNumber; i++) {\r\n        var $currentWave = $(\"<div>\").appendTo(inkRipple).addClass(INKRIPPLE_WAVE_CLASS);\r\n        result.push($currentWave[0])\r\n    }\r\n    return $(result)\r\n};\r\nvar getWaveStyleConfig = function(args, config) {\r\n    var left, top, element = config.element,\r\n        elementWidth = element.outerWidth(),\r\n        elementHeight = element.outerHeight(),\r\n        elementDiagonal = parseInt(Math.sqrt(elementWidth * elementWidth + elementHeight * elementHeight)),\r\n        waveSize = Math.min(MAX_WAVE_SIZE, parseInt(elementDiagonal * args.waveSizeCoefficient));\r\n    if (args.isCentered) {\r\n        left = (elementWidth - waveSize) / 2;\r\n        top = (elementHeight - waveSize) / 2\r\n    } else {\r\n        var event = config.event,\r\n            position = config.element.offset(),\r\n            x = event.pageX - position.left,\r\n            y = event.pageY - position.top;\r\n        left = x - waveSize / 2;\r\n        top = y - waveSize / 2\r\n    }\r\n    return {\r\n        left: left,\r\n        top: top,\r\n        height: waveSize,\r\n        width: waveSize\r\n    }\r\n};\r\nvar showWave = function(args, config) {\r\n    var $wave = getWaves(config.element, args.wavesNumber).eq(config.wave || DEFAULT_WAVE_INDEX);\r\n    args.hidingTimeout && clearTimeout(args.hidingTimeout);\r\n    hideSelectedWave($wave);\r\n    $wave.css(getWaveStyleConfig(args, config));\r\n    args.showingTimeout = setTimeout(showingWaveHandler.bind(this, args, $wave), 0)\r\n};\r\nvar showingWaveHandler = function(args, $wave) {\r\n    var durationCss = args.durations.showingScale + \"ms\";\r\n    $wave.addClass(INKRIPPLE_SHOWING_CLASS).css(\"transitionDuration\", durationCss)\r\n};\r\nvar getDurations = function(useHoldAnimation) {\r\n    return {\r\n        showingScale: useHoldAnimation ? HOLD_ANIMATION_DURATION : ANIMATION_DURATION,\r\n        hidingScale: ANIMATION_DURATION,\r\n        hidingOpacity: ANIMATION_DURATION\r\n    }\r\n};\r\nvar hideSelectedWave = function($wave) {\r\n    $wave.removeClass(INKRIPPLE_HIDING_CLASS).css(\"transitionDuration\", \"\")\r\n};\r\nvar hideWave = function(args, config) {\r\n    args.showingTimeout && clearTimeout(args.showingTimeout);\r\n    var $wave = getWaves(config.element, config.wavesNumber).eq(config.wave || DEFAULT_WAVE_INDEX),\r\n        durations = args.durations,\r\n        durationCss = durations.hidingScale + \"ms, \" + durations.hidingOpacity + \"ms\";\r\n    $wave.addClass(INKRIPPLE_HIDING_CLASS).removeClass(INKRIPPLE_SHOWING_CLASS).css(\"transitionDuration\", durationCss);\r\n    var animationDuration = Math.max(durations.hidingScale, durations.hidingOpacity);\r\n    args.hidingTimeout = setTimeout(hideSelectedWave.bind(this, $wave), animationDuration)\r\n};\r\nmodule.exports = {\r\n    render: render\r\n};\r\n"]},"metadata":{},"sourceType":"script"}