{"ast":null,"code":"import { activites, quetes, scenarios, taches } from \"../../data/data\";\n/*\r\n    Prend l'id de l'activité en paramètre.\r\n    Retourne son indice dans la liste des activités.\r\n */\n\nexport function accesActiviteIndice(id) {\n  return activites.findIndex(v => v.id === id);\n}\n/*\r\n    Remplace l'activité par une autre\r\n */\n\nexport function modificationActivite(activite, id) {\n  let i = accesActiviteIndice(id);\n  activites[i] = activite;\n  scenarios.map(s => {\n    if (s.idPere === id) {\n      s.idPere = activite.id;\n    }\n  });\n}\nexport function supprimerActivite(id) {\n  activites = activites.filter(a => a.id !== id);\n  let scenes = scenarios.filter(s => s.idPere === id);\n  let quest = [];\n\n  for (let i = 0; i < scenes.length; i++) {\n    quest = quetes.filter(q => q.idPere === scenes[i].id);\n\n    for (let j = 0; j < quest.length; j++) {\n      taches = taches.filter(t => t.idPere !== quest[j].id);\n    }\n\n    quetes = quetes.filter(q => q.idPere !== scenes[i].id);\n  }\n\n  scenarios = scenarios.filter(s => s.idPere !== id);\n  return null;\n}\nexport function ajouterActivite(activite) {\n  activites.push(activite);\n  return null;\n}","map":{"version":3,"sources":["C:\\Users\\abdel\\PhpstormProjects\\update\\src\\fonctions\\helper\\ActiviteHelper.js"],"names":["activites","quetes","scenarios","taches","accesActiviteIndice","id","findIndex","v","modificationActivite","activite","i","map","s","idPere","supprimerActivite","filter","a","scenes","quest","length","q","j","t","ajouterActivite","push"],"mappings":"AAAA,SAAQA,SAAR,EAAkBC,MAAlB,EAAyBC,SAAzB,EAAmCC,MAAnC,QAAgD,iBAAhD;AAEA;;;;;AAIA,OAAO,SAASC,mBAAT,CAA6BC,EAA7B,EAAgC;AACnC,SAAOL,SAAS,CAACM,SAAV,CAAoBC,CAAC,IAAIA,CAAC,CAACF,EAAF,KAASA,EAAlC,CAAP;AACH;AAED;;;;AAGA,OAAO,SAASG,oBAAT,CAA8BC,QAA9B,EAAuCJ,EAAvC,EAA0C;AAC7C,MAAIK,CAAC,GAAGN,mBAAmB,CAACC,EAAD,CAA3B;AACAL,EAAAA,SAAS,CAACU,CAAD,CAAT,GAAaD,QAAb;AACAP,EAAAA,SAAS,CAACS,GAAV,CAAcC,CAAC,IAAE;AACb,QAAIA,CAAC,CAACC,MAAF,KAAWR,EAAf,EAAkB;AACdO,MAAAA,CAAC,CAACC,MAAF,GAASJ,QAAQ,CAACJ,EAAlB;AACH;AACJ,GAJD;AAKH;AAED,OAAO,SAASS,iBAAT,CAA2BT,EAA3B,EAA8B;AACjCL,EAAAA,SAAS,GAAGA,SAAS,CAACe,MAAV,CAAiBC,CAAC,IAAEA,CAAC,CAACX,EAAF,KAAOA,EAA3B,CAAZ;AAEA,MAAIY,MAAM,GAAGf,SAAS,CAACa,MAAV,CAAiBH,CAAC,IAAEA,CAAC,CAACC,MAAF,KAAWR,EAA/B,CAAb;AAEA,MAAIa,KAAK,GAAG,EAAZ;;AACA,OAAK,IAAIR,CAAC,GAAC,CAAX,EAAaA,CAAC,GAACO,MAAM,CAACE,MAAtB,EAA6BT,CAAC,EAA9B,EAAiC;AAC7BQ,IAAAA,KAAK,GAAGjB,MAAM,CAACc,MAAP,CAAcK,CAAC,IAAEA,CAAC,CAACP,MAAF,KAAWI,MAAM,CAACP,CAAD,CAAN,CAAUL,EAAtC,CAAR;;AACA,SAAK,IAAIgB,CAAC,GAAC,CAAX,EAAaA,CAAC,GAACH,KAAK,CAACC,MAArB,EAA4BE,CAAC,EAA7B,EAAgC;AAC5BlB,MAAAA,MAAM,GAACA,MAAM,CAACY,MAAP,CAAcO,CAAC,IAAEA,CAAC,CAACT,MAAF,KAAWK,KAAK,CAACG,CAAD,CAAL,CAAShB,EAArC,CAAP;AACH;;AACDJ,IAAAA,MAAM,GAACA,MAAM,CAACc,MAAP,CAAcK,CAAC,IAAEA,CAAC,CAACP,MAAF,KAAWI,MAAM,CAACP,CAAD,CAAN,CAAUL,EAAtC,CAAP;AACH;;AACDH,EAAAA,SAAS,GAACA,SAAS,CAACa,MAAV,CAAiBH,CAAC,IAAEA,CAAC,CAACC,MAAF,KAAWR,EAA/B,CAAV;AAEA,SAAO,IAAP;AACH;AAED,OAAO,SAASkB,eAAT,CAAyBd,QAAzB,EAAmC;AACtCT,EAAAA,SAAS,CAACwB,IAAV,CAAef,QAAf;AAEA,SAAO,IAAP;AACH","sourcesContent":["import {activites,quetes,scenarios,taches} from \"../../data/data\";\r\n\r\n/*\r\n    Prend l'id de l'activité en paramètre.\r\n    Retourne son indice dans la liste des activités.\r\n */\r\nexport function accesActiviteIndice(id){\r\n    return activites.findIndex(v => v.id === id);\r\n}\r\n\r\n/*\r\n    Remplace l'activité par une autre\r\n */\r\nexport function modificationActivite(activite,id){\r\n    let i = accesActiviteIndice(id);\r\n    activites[i]=activite;\r\n    scenarios.map(s=>{\r\n        if (s.idPere===id){\r\n            s.idPere=activite.id;\r\n        }\r\n    })\r\n}\r\n\r\nexport function supprimerActivite(id){\r\n    activites = activites.filter(a=>a.id!==id);\r\n\r\n    let scenes = scenarios.filter(s=>s.idPere===id);\r\n\r\n    let quest = [];\r\n    for (let i=0;i<scenes.length;i++){\r\n        quest = quetes.filter(q=>q.idPere===scenes[i].id);\r\n        for (let j=0;j<quest.length;j++){\r\n            taches=taches.filter(t=>t.idPere!==quest[j].id);\r\n        }\r\n        quetes=quetes.filter(q=>q.idPere!==scenes[i].id)\r\n    }\r\n    scenarios=scenarios.filter(s=>s.idPere!==id);\r\n\r\n    return null;\r\n}\r\n\r\nexport function ajouterActivite(activite) {\r\n    activites.push(activite);\r\n\r\n    return null;\r\n}"]},"metadata":{},"sourceType":"module"}