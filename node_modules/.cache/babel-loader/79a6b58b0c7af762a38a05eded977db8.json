{"ast":null,"code":"/*!\n * devextreme-react\n * Version: 18.2.8\n * Build date: Tue Apr 23 2019\n *\n * Copyright (c) 2012 - 2019 Developer Express Inc. ALL RIGHTS RESERVED\n *\n * This software may be modified and distributed under the terms\n * of the MIT license. See the LICENSE file in the root of the project for details.\n *\n * https://github.com/DevExpress/devextreme-react\n */\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar React = require(\"react\");\n\nvar helpers_1 = require(\"./helpers\");\n\nvar template_wrapper_1 = require(\"./template-wrapper\");\n\nfunction createDxTemplate(createContentProvider, templateUpdater, keyFn) {\n  var renderedModels = new Map();\n  return {\n    render: function render(data) {\n      var prevTemplateId = renderedModels.get(data.model);\n      var templateId;\n\n      if (prevTemplateId) {\n        templateId = prevTemplateId;\n      } else {\n        templateId = keyFn ? keyFn(data.model) : \"__template_\" + helpers_1.generateID();\n\n        if (data.model !== undefined) {\n          renderedModels.set(data.model, templateId);\n        }\n      }\n\n      var container = unwrapElement(data.container);\n      templateUpdater.setTemplate(templateId, function () {\n        var model = data.model;\n\n        if (model && model.hasOwnProperty(\"key\")) {\n          model.dxkey = model.key;\n        }\n\n        var contentProvider = createContentProvider();\n        return React.createElement(template_wrapper_1.TemplateWrapper, {\n          content: contentProvider(model),\n          container: container,\n          onRemoved: function onRemoved() {\n            templateUpdater.removeTemplate(templateId);\n            renderedModels.delete(model);\n          },\n          onRendered: data.onRendered,\n          key: templateId\n        });\n      });\n      return container;\n    }\n  };\n}\n\nexports.createDxTemplate = createDxTemplate;\n\nfunction unwrapElement(element) {\n  return element.get ? element.get(0) : element;\n}","map":null,"metadata":{},"sourceType":"script"}