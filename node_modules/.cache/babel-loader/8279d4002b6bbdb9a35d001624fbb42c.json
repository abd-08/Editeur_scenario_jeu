{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\abdel\\\\PhpstormProjects\\\\update\\\\src\\\\NewDescription.js\";\nimport React, { Component } from 'react';\nimport { selection, supprimerQuete, supprimerScenario, supprimerTache } from \"./data/data\";\nimport ListEntity from './listes/ListEntity';\nimport { activites } from \"./data/data\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from '@material-ui/core/TextField';\nimport { update } from './App';\nimport PostConditionTache from './conditions/PostconditionTache';\nimport PostConditionComposition from './conditions/PostConditionComposition';\nimport { descriptionStyle } from './styles/styles';\nimport { compositions } from \"./types/TypeComposition\";\nimport { update_navigation } from \"./navigation/Navigation\";\nimport * as Constants from \"./configuration_app/Constants\";\n\nclass NewDescription extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      nom: \"\",\n      description: \"\"\n    };\n\n    this.handleChange = id => event => {\n      this.setState({\n        [id]: event.target.value\n      });\n    };\n\n    this.handleSubmit = e => {\n      e.preventDefault();\n\n      for (let j = 0; j < selection.nodes.length; j++) {\n        if (selection.nodes[j].id === selection.node.id) {\n          selection.nodes[j].nom = this.state.nom;\n        }\n      }\n\n      console.log(\"sortie de la boucle \");\n      /*\r\n      for(let j=0;j<selection.links.length;j++){\r\n          if (selection.links[j].target===selection.node.id) selection.links[j].target = this.state.nom;\r\n          if (selection.links[j].source===selection.node.id) selection.links[j].source = this.state.nom;\r\n      }*/\n\n      /*\r\n              let s = rechercheNav(selection.id);\r\n              console.log(s.tab[s.i].nodes);\r\n              s.tab[s.i].nodes = selection.nodes;\r\n      \r\n              console.log(s.tab[s.i].nodes);\r\n      \r\n              let search =rechercheNav(selection.node.id);\r\n              let tab = search.tab;\r\n              let i = search.i;\r\n      \r\n              if (this.state.id !== \"\") tab[i].nom=this.state.nom;\r\n              if (this.state.description !== \"\") tab[i].description=this.state.description;*/\n\n      selection.node.nom = this.state.nom;\n      console.log(selection.node);\n      console.log(selection.nom);\n      this.setState({\n        nom: \"\",\n        description: \"\"\n        /*x: \"\", y: \"\"*/\n\n      });\n      update();\n      update_navigation();\n    };\n\n    this.retourEntite = () => {\n      selection.node = null;\n\n      for (let i = 0; i < selection.nodes.length; i++) {\n        selection.nodes[i].color = Constants.GRAPH_NODES_DEFAULT_COLOR;\n      }\n\n      update();\n    };\n\n    this.supprime_noeud = () => {\n      activites[0].nodes = activites[0].nodes.filter(v => v !== activites[0].node);\n      activites[0].links = activites[0].links.filter(v => v.source !== activites[0].node.id);\n      activites[0].links = activites[0].links.filter(v => v.target !== activites[0].node.id);\n      activites[0].node = null;\n      update();\n    };\n\n    this.supprimer = () => {\n      selection.nodes = selection.nodes.filter(x => x.id !== selection.node.id);\n      selection.nodes = selection.links.filter(x => x.source !== selection.node.id);\n      selection.nodes = selection.links.filter(x => x.target !== selection.node.id);\n      console.log(100 != selection.node.id);\n      console.log(selection.nodes);\n      /*\r\n      switch (selection.node.type) {\r\n          case compositions.SCENARIO:\r\n              supprimerScenario(selection.node.id);\r\n              break;\r\n          case compositions.QUETE:\r\n              supprimerQuete(selection.node.id);\r\n              break;\r\n          case compositions.TACHE:\r\n              supprimerTache(selection.node.id);\r\n              break ;\r\n          default:\r\n              console.log('null');\r\n              return null;\r\n        }*/\n\n      update(); //update_navigation();\n    };\n  }\n\n  /*\r\n  \r\n      supprime_postcondition = () => {\r\n          activites[0].links = activites[0].links.filter(v=> v.source !== activites[0].node.id);\r\n          activites[0].links = activites[0].links.filter(v => v.target !== activites[0].node.id);\r\n  \r\n          update();\r\n      };\r\n  */\n  render() {\n    /* description du noeud sélectionné */\n    if (selection.node !== null) {\n      return React.createElement(\"div\", {\n        className: \"Description\",\n        style: descriptionStyle,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }, React.createElement(TextField, {\n        id: \"standard-name\",\n        label: \"Nom: \" + selection.node.nom,\n        value: this.state.nom,\n        onChange: this.handleChange('nom'),\n        margin: \"normal\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135\n        },\n        __self: this\n      })), React.createElement(\"form\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143\n        },\n        __self: this\n      }, React.createElement(TextField, {\n        id: \"standard-name\",\n        label: \"Description: \" + selection.node.description,\n        value: this.state.description,\n        onChange: this.handleChange('description'),\n        margin: \"normal\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"flex1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153\n        },\n        __self: this\n      }, React.createElement(Button, {\n        variant: \"outlined\",\n        color: \"primary\",\n        onClick: this.handleSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154\n        },\n        __self: this\n      }, \"modifier\")), React.createElement(\"div\", {\n        className: \"ListLien\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158\n        },\n        __self: this\n      },\n      /* A-t-il au moins un successeur? Est-il une tâche? */\n\n      /*noeudARelation(activites[0].node.id, activites[0].node.type, activites[0].node.idPere) && // Ne fonctionne pas pour le moment. Il faut un état dynamique. */\n      selection.nodes[0].type === compositions.TACHE ? React.createElement(PostConditionTache, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162\n        },\n        __self: this\n      }) : React.createElement(PostConditionComposition, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162\n        },\n        __self: this\n      })))), React.createElement(\"div\", {\n        className: \"RetourModif\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"flex1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169\n        },\n        __self: this\n      }, React.createElement(Button, {\n        variant: \"outlined\",\n        color: \"primary\",\n        onClick: this.retourEntite,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170\n        },\n        __self: this\n      }, \"retour Entit\\xE9\")), React.createElement(\"div\", {\n        className: \"flex1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172\n        },\n        __self: this\n      }, React.createElement(Button, {\n        variant: \"outlined\",\n        color: \"primary\",\n        onClick: this.supprimer,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173\n        },\n        __self: this\n      }, \"supprimer sc\\xE9nario\"))));\n    } else {\n      return (\n        /* affichage des entité si pas de noeud sélectionné */\n        React.createElement(\"div\", {\n          className: \"Description\",\n          style: descriptionStyle,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 181\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 182\n          },\n          __self: this\n        }, React.createElement(ListEntity, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 183\n          },\n          __self: this\n        })))\n      );\n    }\n  }\n\n}\n\nexport default NewDescription;","map":{"version":3,"sources":["C:\\Users\\abdel\\PhpstormProjects\\update\\src\\NewDescription.js"],"names":["React","Component","selection","supprimerQuete","supprimerScenario","supprimerTache","ListEntity","activites","Button","TextField","update","PostConditionTache","PostConditionComposition","descriptionStyle","compositions","update_navigation","Constants","NewDescription","state","nom","description","handleChange","id","event","setState","target","value","handleSubmit","e","preventDefault","j","nodes","length","node","console","log","retourEntite","i","color","GRAPH_NODES_DEFAULT_COLOR","supprime_noeud","filter","v","links","source","supprimer","x","render","type","TACHE"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,SAAQC,SAAR,EAAmBC,cAAnB,EAAmCC,iBAAnC,EAAsDC,cAAtD,QAA2E,aAA3E;AACA,OAAOC,UAAP,MAAuB,qBAAvB;AACA,SAAQC,SAAR,QAAwB,aAAxB;AACA,OAAOC,MAAP,MAAmB,0BAAnB;AACA,OAAOC,SAAP,MAAsB,6BAAtB;AACA,SAAQC,MAAR,QAAqB,OAArB;AACA,OAAOC,kBAAP,MAA+B,iCAA/B;AACA,OAAOC,wBAAP,MAAqC,uCAArC;AACA,SAAQC,gBAAR,QAA+B,iBAA/B;AACA,SAAQC,YAAR,QAA2B,yBAA3B;AACA,SAAQC,iBAAR,QAAgC,yBAAhC;AACA,OAAO,KAAKC,SAAZ,MAA2B,+BAA3B;;AAIA,MAAMC,cAAN,SAA6BhB,SAA7B,CAAuC;AAAA;AAAA;AAAA,SAGnCiB,KAHmC,GAG3B;AACJC,MAAAA,GAAG,EAAC,EADA;AAEJC,MAAAA,WAAW,EAAC;AAFR,KAH2B;;AAAA,SAUnCC,YAVmC,GAUpBC,EAAE,IAAIC,KAAK,IAAI;AAC1B,WAAKC,QAAL,CAAc;AAAE,SAACF,EAAD,GAAMC,KAAK,CAACE,MAAN,CAAaC;AAArB,OAAd;AACH,KAZkC;;AAAA,SAgBnCC,YAhBmC,GAgBnBC,CAAD,IAAO;AAClBA,MAAAA,CAAC,CAACC,cAAF;;AAEA,WAAI,IAAIC,CAAC,GAAC,CAAV,EAAYA,CAAC,GAAC5B,SAAS,CAAC6B,KAAV,CAAgBC,MAA9B,EAAqCF,CAAC,EAAtC,EAAyC;AACrC,YAAI5B,SAAS,CAAC6B,KAAV,CAAgBD,CAAhB,EAAmBR,EAAnB,KAAwBpB,SAAS,CAAC+B,IAAV,CAAeX,EAA3C,EAA+C;AAC3CpB,UAAAA,SAAS,CAAC6B,KAAV,CAAgBD,CAAhB,EAAmBX,GAAnB,GAAuB,KAAKD,KAAL,CAAWC,GAAlC;AACH;AACJ;;AACDe,MAAAA,OAAO,CAACC,GAAR,CAAY,sBAAZ;AACA;;;;;;AAOR;;;;;;;;;;;;;;AAcQjC,MAAAA,SAAS,CAAC+B,IAAV,CAAed,GAAf,GAAmB,KAAKD,KAAL,CAAWC,GAA9B;AACAe,MAAAA,OAAO,CAACC,GAAR,CAAYjC,SAAS,CAAC+B,IAAtB;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAYjC,SAAS,CAACiB,GAAtB;AAEA,WAAKK,QAAL,CAAc;AAACL,QAAAA,GAAG,EAAC,EAAL;AAASC,QAAAA,WAAW,EAAC;AAAI;;AAAzB,OAAd;AACAV,MAAAA,MAAM;AACNK,MAAAA,iBAAiB;AACpB,KArDkC;;AAAA,SAuDnCqB,YAvDmC,GAuDpB,MAAM;AAClBlC,MAAAA,SAAS,CAAC+B,IAAV,GAAe,IAAf;;AACC,WAAK,IAAII,CAAC,GAAC,CAAX,EAAaA,CAAC,GAACnC,SAAS,CAAC6B,KAAV,CAAgBC,MAA/B,EAAsCK,CAAC,EAAvC,EAA0C;AACtCnC,QAAAA,SAAS,CAAC6B,KAAV,CAAgBM,CAAhB,EAAmBC,KAAnB,GAAyBtB,SAAS,CAACuB,yBAAnC;AACH;;AACD7B,MAAAA,MAAM;AACT,KA7DkC;;AAAA,SA+DnC8B,cA/DmC,GA+DlB,MAAM;AAEnBjC,MAAAA,SAAS,CAAC,CAAD,CAAT,CAAawB,KAAb,GAAqBxB,SAAS,CAAC,CAAD,CAAT,CAAawB,KAAb,CAAmBU,MAAnB,CAA0BC,CAAC,IAAIA,CAAC,KAAInC,SAAS,CAAC,CAAD,CAAT,CAAa0B,IAAjD,CAArB;AACA1B,MAAAA,SAAS,CAAC,CAAD,CAAT,CAAaoC,KAAb,GAAqBpC,SAAS,CAAC,CAAD,CAAT,CAAaoC,KAAb,CAAmBF,MAAnB,CAA0BC,CAAC,IAAGA,CAAC,CAACE,MAAF,KAAarC,SAAS,CAAC,CAAD,CAAT,CAAa0B,IAAb,CAAkBX,EAA7D,CAArB;AACAf,MAAAA,SAAS,CAAC,CAAD,CAAT,CAAaoC,KAAb,GAAqBpC,SAAS,CAAC,CAAD,CAAT,CAAaoC,KAAb,CAAmBF,MAAnB,CAA0BC,CAAC,IAAIA,CAAC,CAACjB,MAAF,KAAalB,SAAS,CAAC,CAAD,CAAT,CAAa0B,IAAb,CAAkBX,EAA9D,CAArB;AACAf,MAAAA,SAAS,CAAC,CAAD,CAAT,CAAa0B,IAAb,GAAkB,IAAlB;AAEAvB,MAAAA,MAAM;AACT,KAvEkC;;AAAA,SA0EnCmC,SA1EmC,GA0EzB,MAAI;AACV3C,MAAAA,SAAS,CAAC6B,KAAV,GAAgB7B,SAAS,CAAC6B,KAAV,CAAgBU,MAAhB,CAAuBK,CAAC,IAAEA,CAAC,CAACxB,EAAF,KAAOpB,SAAS,CAAC+B,IAAV,CAAeX,EAAhD,CAAhB;AACApB,MAAAA,SAAS,CAAC6B,KAAV,GAAgB7B,SAAS,CAACyC,KAAV,CAAgBF,MAAhB,CAAuBK,CAAC,IAAEA,CAAC,CAACF,MAAF,KAAW1C,SAAS,CAAC+B,IAAV,CAAeX,EAApD,CAAhB;AACApB,MAAAA,SAAS,CAAC6B,KAAV,GAAgB7B,SAAS,CAACyC,KAAV,CAAgBF,MAAhB,CAAuBK,CAAC,IAAEA,CAAC,CAACrB,MAAF,KAAWvB,SAAS,CAAC+B,IAAV,CAAeX,EAApD,CAAhB;AACAY,MAAAA,OAAO,CAACC,GAAR,CAAY,OAAKjC,SAAS,CAAC+B,IAAV,CAAeX,EAAhC;AACAY,MAAAA,OAAO,CAACC,GAAR,CAAYjC,SAAS,CAAC6B,KAAtB;AACA;;;;;;;;;;;;;;;;AAgBArB,MAAAA,MAAM,GAtBI,CAuBV;AACH,KAlGkC;AAAA;;AAoGvC;;;;;;;;;AASIqC,EAAAA,MAAM,GAAG;AAEL;AACA,QAAI7C,SAAS,CAAC+B,IAAV,KAAmB,IAAvB,EAA6B;AACzB,aACI;AAAK,QAAA,SAAS,EAAC,aAAf;AAA6B,QAAA,KAAK,EAAEpB,gBAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,SAAD;AACI,QAAA,EAAE,EAAC,eADP;AAEI,QAAA,KAAK,EAAE,UAAUX,SAAS,CAAC+B,IAAV,CAAed,GAFpC;AAGI,QAAA,KAAK,EAAE,KAAKD,KAAL,CAAWC,GAHtB;AAII,QAAA,QAAQ,EAAE,KAAKE,YAAL,CAAkB,KAAlB,CAJd;AAKI,QAAA,MAAM,EAAC,QALX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,CAFJ,EAWI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,SAAD;AACI,QAAA,EAAE,EAAC,eADP;AAEI,QAAA,KAAK,EAAE,kBAAkBnB,SAAS,CAAC+B,IAAV,CAAeb,WAF5C;AAGI,QAAA,KAAK,EAAE,KAAKF,KAAL,CAAWE,WAHtB;AAII,QAAA,QAAQ,EAAE,KAAKC,YAAL,CAAkB,aAAlB,CAJd;AAKI,QAAA,MAAM,EAAC,QALX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,CAXJ,EAqBI;AAAK,QAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,MAAD;AAAQ,QAAA,OAAO,EAAC,UAAhB;AAA2B,QAAA,KAAK,EAAC,SAAjC;AAA2C,QAAA,OAAO,EAAE,KAAKM,YAAzD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADJ,CArBJ,EAyBI;AAAK,QAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEQ;;AACA;AACDzB,MAAAA,SAAS,CAAC6B,KAAV,CAAgB,CAAhB,EAAmBiB,IAAnB,KAA4BlC,YAAY,CAACmC,KAAzC,GAAkD,oBAAC,kBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAlD,GAA4E,oBAAC,wBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAJnF,CADJ,CAzBJ,CADJ,EAqCI;AAAK,QAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAK,QAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,MAAD;AAAQ,QAAA,OAAO,EAAC,UAAhB;AAA2B,QAAA,KAAK,EAAC,SAAjC;AAA2C,QAAA,OAAO,EAAE,KAAKb,YAAzD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BADJ,CADJ,EAII;AAAK,QAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,MAAD;AAAQ,QAAA,OAAO,EAAC,UAAhB;AAA2B,QAAA,KAAK,EAAC,SAAjC;AAA2C,QAAA,OAAO,EAAE,KAAKS,SAAzD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iCADJ,CAJJ,CArCJ,CADJ;AAgDH,KAjDD,MAiDO;AACH;AACI;AACA;AAAK,UAAA,SAAS,EAAC,aAAf;AAA6B,UAAA,KAAK,EAAEhC,gBAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACI,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ,CADJ;AAFJ;AAQH;AACJ;;AA3KkC;;AA8KvC,eAAeI,cAAf","sourcesContent":["import React, {Component} from 'react'\r\nimport {selection, supprimerQuete, supprimerScenario, supprimerTache} from \"./data/data\";\r\nimport ListEntity from './listes/ListEntity'\r\nimport {activites} from \"./data/data\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport TextField from '@material-ui/core/TextField';\r\nimport {update} from './App';\r\nimport PostConditionTache from './conditions/PostconditionTache';\r\nimport PostConditionComposition from './conditions/PostConditionComposition'\r\nimport {descriptionStyle} from './styles/styles'\r\nimport {compositions} from \"./types/TypeComposition\";\r\nimport {update_navigation} from \"./navigation/Navigation\";\r\nimport * as Constants from \"./configuration_app/Constants\";\r\n\r\n\r\n\r\nclass NewDescription extends Component {\r\n\r\n    /*state des modifications à apporter au noeud sélectionner (pour changer de nom ou de description) */\r\n    state = {\r\n        nom:\"\",\r\n        description:\"\",\r\n\r\n    };\r\n\r\n    /* si un changement dans le nom ou la description, ce charge de l'enregistrer dans le state au dessus*/\r\n    handleChange = id => event => {\r\n        this.setState({ [id]: event.target.value });\r\n    };\r\n\r\n    /* gère la modification une fois valider, changement des sources et des targets des liens concernées */\r\n    /* problèmme avec les liens  */\r\n    handleSubmit = (e) => {\r\n        e.preventDefault();\r\n\r\n        for(let j=0;j<selection.nodes.length;j++){\r\n            if (selection.nodes[j].id===selection.node.id) {\r\n                selection.nodes[j].nom=this.state.nom;\r\n            }\r\n        }\r\n        console.log(\"sortie de la boucle \");\r\n        /*\r\n        for(let j=0;j<selection.links.length;j++){\r\n            if (selection.links[j].target===selection.node.id) selection.links[j].target = this.state.nom;\r\n            if (selection.links[j].source===selection.node.id) selection.links[j].source = this.state.nom;\r\n        }*/\r\n\r\n\r\n/*\r\n        let s = rechercheNav(selection.id);\r\n        console.log(s.tab[s.i].nodes);\r\n        s.tab[s.i].nodes = selection.nodes;\r\n\r\n        console.log(s.tab[s.i].nodes);\r\n\r\n        let search =rechercheNav(selection.node.id);\r\n        let tab = search.tab;\r\n        let i = search.i;\r\n\r\n        if (this.state.id !== \"\") tab[i].nom=this.state.nom;\r\n        if (this.state.description !== \"\") tab[i].description=this.state.description;*/\r\n\r\n        selection.node.nom=this.state.nom;\r\n        console.log(selection.node);\r\n        console.log(selection.nom);\r\n\r\n        this.setState({nom:\"\", description:\"\", /*x: \"\", y: \"\"*/});\r\n        update();\r\n        update_navigation()\r\n    };\r\n\r\n    retourEntite = () => {\r\n       selection.node=null;\r\n        for (let i=0;i<selection.nodes.length;i++){\r\n            selection.nodes[i].color=Constants.GRAPH_NODES_DEFAULT_COLOR;\r\n        }\r\n        update();\r\n    };\r\n\r\n    supprime_noeud = () => {\r\n\r\n        activites[0].nodes = activites[0].nodes.filter(v => v!== activites[0].node);\r\n        activites[0].links = activites[0].links.filter(v=> v.source !== activites[0].node.id);\r\n        activites[0].links = activites[0].links.filter(v => v.target !== activites[0].node.id);\r\n        activites[0].node=null;\r\n\r\n        update();\r\n    };\r\n\r\n\r\n    supprimer=()=>{\r\n        selection.nodes=selection.nodes.filter(x=>x.id!==selection.node.id);\r\n        selection.nodes=selection.links.filter(x=>x.source!==selection.node.id);\r\n        selection.nodes=selection.links.filter(x=>x.target!==selection.node.id);\r\n        console.log(100!=selection.node.id);\r\n        console.log(selection.nodes);\r\n        /*\r\n        switch (selection.node.type) {\r\n            case compositions.SCENARIO:\r\n                supprimerScenario(selection.node.id);\r\n                break;\r\n            case compositions.QUETE:\r\n                supprimerQuete(selection.node.id);\r\n                break;\r\n            case compositions.TACHE:\r\n                supprimerTache(selection.node.id);\r\n                break ;\r\n            default:\r\n                console.log('null');\r\n                return null;\r\n\r\n        }*/\r\n        update();\r\n        //update_navigation();\r\n    }\r\n\r\n/*\r\n\r\n    supprime_postcondition = () => {\r\n        activites[0].links = activites[0].links.filter(v=> v.source !== activites[0].node.id);\r\n        activites[0].links = activites[0].links.filter(v => v.target !== activites[0].node.id);\r\n\r\n        update();\r\n    };\r\n*/\r\n    render() {\r\n\r\n        /* description du noeud sélectionné */\r\n        if (selection.node !== null) {\r\n            return (\r\n                <div className=\"Description\" style={descriptionStyle}>\r\n                    <div>\r\n                        {/* utilisation des forms de modal-ui, nom et description dans les forms */}\r\n                        <form>\r\n                            <TextField\r\n                                id=\"standard-name\"\r\n                                label={\"Nom: \" + selection.node.nom}\r\n                                value={this.state.nom}\r\n                                onChange={this.handleChange('nom')}\r\n                                margin=\"normal\"\r\n                            />\r\n                        </form>\r\n                        <form>\r\n                            <TextField\r\n                                id=\"standard-name\"\r\n                                label={\"Description: \" + selection.node.description}\r\n                                value={this.state.description}\r\n                                onChange={this.handleChange('description')}\r\n                                margin=\"normal\"\r\n                            />\r\n                        </form>\r\n\r\n                        <div className=\"flex1\">\r\n                            <Button variant=\"outlined\" color=\"primary\" onClick={this.handleSubmit}>modifier</Button>\r\n                        </div>\r\n\r\n                        <div className=\"ListLien\">\r\n                            <div>\r\n                                {\r\n                                    /* A-t-il au moins un successeur? Est-il une tâche? */\r\n                                    /*noeudARelation(activites[0].node.id, activites[0].node.type, activites[0].node.idPere) && // Ne fonctionne pas pour le moment. Il faut un état dynamique. */\r\n                                   selection.nodes[0].type === compositions.TACHE ? (<PostConditionTache/>) : (<PostConditionComposition/>)\r\n                                }\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"RetourModif\">\r\n                        <div className=\"flex1\">\r\n                            <Button variant=\"outlined\" color=\"primary\" onClick={this.retourEntite}>retour Entité</Button>\r\n                        </div>\r\n                        <div className=\"flex1\">\r\n                            <Button variant=\"outlined\" color=\"primary\" onClick={this.supprimer}>supprimer scénario</Button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            )\r\n        } else {\r\n            return (\r\n                /* affichage des entité si pas de noeud sélectionné */\r\n                <div className=\"Description\" style={descriptionStyle}>\r\n                    <div>\r\n                        <ListEntity/>\r\n                    </div>\r\n                </div>\r\n            )\r\n        }\r\n    }\r\n}\r\n\r\nexport default NewDescription;"]},"metadata":{},"sourceType":"module"}