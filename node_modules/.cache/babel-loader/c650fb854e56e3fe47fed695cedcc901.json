{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\abdel\\\\PhpstormProjects\\\\editeur_scenario_jeu\\\\src\\\\creation\\\\CreateScenario.js\";\nimport React, { Component } from 'react';\nimport { selection } from '../data/data';\nimport { update, onCloseModalScenario } from \"../App\";\nimport TextField from \"@material-ui/core/TextField/index\";\nimport Button from \"@material-ui/core/Button/index\";\nimport { compositions, sousCategorie } from \"../types/TypeComposition\";\nimport { update_navigation } from \"../navigation/Navigation\";\nimport { rechercheNav } from \"../fonctions/helper/NavigationHelper\";\nimport { getUniqueID } from \"../fonctions/helper/AppHelper\";\nimport { GRAPH_NODES_DEFAULT_COLOR } from \"../configuration_app/Constants\";\n/*permet de créer une tâche*/\n\nclass CreateScenario extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      description: '',\n      nom: ''\n    };\n\n    this.handleChange = id => event => {\n      this.setState({\n        [id]: event.target.value\n      });\n    };\n\n    this.handleSubmit = e => {\n      e.preventDefault();\n      let id = getUniqueID();\n      selection.nodes.push({\n        id: id,\n        nom: this.state.nom,\n        color: GRAPH_NODES_DEFAULT_COLOR,\n        postconditions: [{\n          nomEntite: null,\n          typeEntite: null,\n          typeInteraction: null,\n          etat: null\n        }],\n        x: 300,\n        y: 300\n      }); //on recherche l'élement sélectionné dans nav\n\n      let search = rechercheNav(selection.id);\n      let i = search.i;\n      let pere = search.tab;\n      pere[i].nodes = selection.nodes; //on met a jour les noeuds\n      ///on va ajouter les noeuds dans sa catégories\n\n      let sous_cat = sousCategorie(selection.type); //le type de noeud qu'on va creer\n\n      switch (selection.type) {\n        case compositions.ACTIVITE:\n          sous_cat.tab.push({\n            id: id,\n            description: this.state.description,\n            nom: this.state.nom,\n            type: sous_cat.type,\n            idPere: selection.id,\n            links: [],\n            nodes: [],\n            postconditions: null\n          });\n          break;\n\n        case compositions.SCENARIO:\n          // on ajoute  quete\n          sous_cat.tab.push({\n            id: id,\n            description: this.state.description,\n            nom: this.state.nom,\n            type: sous_cat.type,\n            idPere: selection.id,\n            links: [],\n            nodes: [],\n            postconditions: null\n          });\n          break;\n\n        case compositions.QUETE:\n          //on ajoute une tache\n          sous_cat.tab.push({\n            id: id,\n            description: this.state.description,\n            nom: this.state.nom,\n            type: sous_cat.type,\n            idPere: selection.id,\n            postconditions: [{\n              nomEntite: null,\n              typeEntite: null,\n              typeInteraction: null,\n              etat: null\n            }]\n          });\n          break;\n\n        default:\n          console.log(selection.type);\n          console.log(\"erreur\");\n          break;\n      }\n\n      update();\n      update_navigation();\n      this.setState({\n        id: '',\n        description: '',\n        nom: ''\n      });\n      onCloseModalScenario();\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"modal-content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(TextField, {\n      id: \"standard-name\",\n      label: \"TITRE DE \" + sousCategorie(selection.type).type,\n      value: this.state.nom,\n      onChange: this.handleChange('nom'),\n      margin: \"normal\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(\"form\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(TextField, {\n      id: \"standard-name\",\n      label: \"description\",\n      multiline: true,\n      rows: \"4\",\n      value: this.state.description,\n      onChange: this.handleChange('description'),\n      margin: \"normal\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(Button, {\n      variant: \"outlined\",\n      color: \"primary\",\n      onClick: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 21\n      }\n    }, \"Cr\\xE9er\")));\n  }\n\n}\n\nexport default CreateScenario;","map":{"version":3,"sources":["C:/Users/abdel/PhpstormProjects/editeur_scenario_jeu/src/creation/CreateScenario.js"],"names":["React","Component","selection","update","onCloseModalScenario","TextField","Button","compositions","sousCategorie","update_navigation","rechercheNav","getUniqueID","GRAPH_NODES_DEFAULT_COLOR","CreateScenario","state","description","nom","handleChange","id","event","setState","target","value","handleSubmit","e","preventDefault","nodes","push","color","postconditions","nomEntite","typeEntite","typeInteraction","etat","x","y","search","i","pere","tab","sous_cat","type","ACTIVITE","idPere","links","SCENARIO","QUETE","console","log","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport { selection} from '../data/data'\r\nimport {update , onCloseModalScenario} from \"../App\";\r\nimport TextField from \"@material-ui/core/TextField/index\";\r\nimport Button from \"@material-ui/core/Button/index\";\r\nimport {compositions,sousCategorie} from \"../types/TypeComposition\";\r\nimport {update_navigation} from \"../navigation/Navigation\";\r\nimport {rechercheNav} from \"../fonctions/helper/NavigationHelper\";\r\nimport {getUniqueID} from \"../fonctions/helper/AppHelper\";\r\nimport {GRAPH_NODES_DEFAULT_COLOR} from \"../configuration_app/Constants\";\r\n\r\n\r\n/*permet de créer une tâche*/\r\nclass CreateScenario extends Component {\r\n\r\n    /* tâche */\r\n    state = {\r\n        description:'',\r\n        nom:'',\r\n    };\r\n\r\n    handleChange = id => event => {\r\n        this.setState({ [id]: event.target.value });\r\n    };\r\n\r\n    handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        let id = getUniqueID();\r\n\r\n        selection.nodes.push({id:id ,nom:this.state.nom,color:GRAPH_NODES_DEFAULT_COLOR\r\n            ,postconditions:[ {\r\n                nomEntite: null,\r\n                typeEntite: null,\r\n                typeInteraction: null,\r\n                etat: null\r\n            }]\r\n            ,x:300,y:300});\r\n\r\n        //on recherche l'élement sélectionné dans nav\r\n        let search= rechercheNav(selection.id);\r\n        let i = search.i;\r\n        let pere = search.tab;\r\n        pere[i].nodes=selection.nodes;//on met a jour les noeuds\r\n\r\n\r\n\r\n        ///on va ajouter les noeuds dans sa catégories\r\n\r\n        let sous_cat = sousCategorie(selection.type); //le type de noeud qu'on va creer\r\n        switch (selection.type) {\r\n            case compositions.ACTIVITE :\r\n                sous_cat.tab.push(\r\n                    {\r\n                        id: id,\r\n                        description:this.state.description,\r\n                        nom:this.state.nom,\r\n                        type: sous_cat.type,\r\n                        idPere:  selection.id,\r\n                        links:[],\r\n                        nodes:[],\r\n                        postconditions: null,\r\n                    });\r\n                break;\r\n\r\n\r\n            case compositions.SCENARIO: // on ajoute  quete\r\n                sous_cat.tab.push(\r\n                    {\r\n                        id: id,\r\n                        description:this.state.description,\r\n                        nom:this.state.nom,\r\n                        type: sous_cat.type,\r\n                        idPere:  selection.id,\r\n                        links:[],\r\n                        nodes:[],\r\n                        postconditions:null\r\n                    });\r\n                    break;\r\n            case compositions.QUETE ://on ajoute une tache\r\n                sous_cat.tab.push(\r\n                    {\r\n                        id: id,\r\n                        description:this.state.description,\r\n                        nom:this.state.nom,\r\n                        type: sous_cat.type,\r\n                        idPere:  selection.id,\r\n                        postconditions: [{\r\n                            nomEntite: null,\r\n                            typeEntite: null,\r\n                            typeInteraction: null,\r\n                            etat: null\r\n                        }]\r\n                    });\r\n\r\n                break;\r\n            default :\r\n                console.log(selection.type);\r\n                console.log(\"erreur\");\r\n                break;\r\n        }\r\n\r\n        update();\r\n        update_navigation();\r\n        this.setState({id:'',description:'',nom:''});\r\n        onCloseModalScenario();\r\n\r\n    };\r\n\r\n    render() {\r\n\r\n        return (\r\n            <div className=\"container\">\r\n                <div className=\"modal-content\">\r\n                    <form>\r\n                        <TextField\r\n                            id=\"standard-name\"\r\n                            label={\"TITRE DE \"+ sousCategorie(selection.type).type}\r\n                            value={this.state.nom}\r\n                            onChange={this.handleChange('nom')}\r\n                            margin=\"normal\"\r\n                        />\r\n                    </form>\r\n                    <form>\r\n                        <TextField\r\n                            id=\"standard-name\"\r\n                            label=\"description\"\r\n                            multiline\r\n                            rows=\"4\"\r\n                            value={this.state.description}\r\n                            onChange={this.handleChange('description')}\r\n                            margin=\"normal\"\r\n                        />\r\n                    </form>\r\n                    <Button variant=\"outlined\" color=\"primary\" onClick={this.handleSubmit}>Créer</Button>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default CreateScenario;\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}