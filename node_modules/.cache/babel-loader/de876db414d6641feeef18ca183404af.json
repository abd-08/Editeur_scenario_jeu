{"ast":null,"code":"/**\r\n * DevExtreme (events/click.js)\r\n * Version: 18.2.13\r\n * Build date: Wed May 27 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nvar $ = require(\"../core/renderer\"),\n    eventsEngine = require(\"../events/core/events_engine\"),\n    devices = require(\"../core/devices\"),\n    domAdapter = require(\"../core/dom_adapter\"),\n    domUtils = require(\"../core/utils/dom\"),\n    animationFrame = require(\"../animation/frame\"),\n    eventUtils = require(\"./utils\"),\n    pointerEvents = require(\"./pointer\"),\n    Emitter = require(\"./core/emitter\"),\n    registerEmitter = require(\"./core/emitter_registrator\"),\n    compareVersions = require(\"../core/utils/version\").compare;\n\nvar CLICK_EVENT_NAME = \"dxclick\",\n    TOUCH_BOUNDARY = 10,\n    abs = Math.abs;\n\nvar isInput = function (element) {\n  return $(element).is(\"input, textarea, select, button ,:focus, :focus *\");\n};\n\nvar misc = {\n  requestAnimationFrame: animationFrame.requestAnimationFrame,\n  cancelAnimationFrame: animationFrame.cancelAnimationFrame\n};\nvar ClickEmitter = Emitter.inherit({\n  ctor: function (element) {\n    this.callBase(element);\n\n    this._makeElementClickable($(element));\n  },\n  _makeElementClickable: function ($element) {\n    if (!$element.attr(\"onclick\")) {\n      $element.attr(\"onclick\", \"void(0)\");\n    }\n  },\n  start: function (e) {\n    this._blurPrevented = e.isDefaultPrevented();\n    this._startTarget = e.target;\n    this._startEventData = eventUtils.eventData(e);\n  },\n  end: function (e) {\n    if (this._eventOutOfElement(e, this.getElement().get(0)) || e.type === pointerEvents.cancel) {\n      this._cancel(e);\n\n      return;\n    }\n\n    if (!isInput(e.target) && !this._blurPrevented) {\n      domUtils.resetActiveElement();\n    }\n\n    this._accept(e);\n\n    this._clickAnimationFrame = misc.requestAnimationFrame(function () {\n      this._fireClickEvent(e);\n    }.bind(this));\n  },\n  _eventOutOfElement: function (e, element) {\n    var target = e.target,\n        targetChanged = !domUtils.contains(element, target) && element !== target,\n        gestureDelta = eventUtils.eventDelta(eventUtils.eventData(e), this._startEventData),\n        boundsExceeded = abs(gestureDelta.x) > TOUCH_BOUNDARY || abs(gestureDelta.y) > TOUCH_BOUNDARY;\n    return targetChanged || boundsExceeded;\n  },\n  _fireClickEvent: function (e) {\n    this._fireEvent(CLICK_EVENT_NAME, e, {\n      target: domUtils.closestCommonParent(this._startTarget, e.target)\n    });\n  },\n  dispose: function () {\n    misc.cancelAnimationFrame(this._clickAnimationFrame);\n  }\n});\n!function () {\n  var NATIVE_CLICK_CLASS = \"dx-native-click\";\n  var realDevice = devices.real(),\n      useNativeClick = realDevice.generic || realDevice.ios && compareVersions(realDevice.version, [9, 3]) >= 0 || realDevice.android && compareVersions(realDevice.version, [5]) >= 0;\n\n  var isNativeClickEvent = function (target) {\n    return useNativeClick || $(target).closest(\".\" + NATIVE_CLICK_CLASS).length;\n  };\n\n  var prevented = null,\n      lastFiredEvent = null;\n\n  var clickHandler = function (e) {\n    var originalEvent = e.originalEvent,\n        eventAlreadyFired = lastFiredEvent === originalEvent || originalEvent && originalEvent.DXCLICK_FIRED,\n        leftButton = !e.which || 1 === e.which;\n\n    if (leftButton && !prevented && isNativeClickEvent(e.target) && !eventAlreadyFired) {\n      if (originalEvent) {\n        originalEvent.DXCLICK_FIRED = true;\n      }\n\n      lastFiredEvent = originalEvent;\n      eventUtils.fireEvent({\n        type: CLICK_EVENT_NAME,\n        originalEvent: e\n      });\n    }\n  };\n\n  ClickEmitter = ClickEmitter.inherit({\n    _makeElementClickable: function ($element) {\n      if (!isNativeClickEvent($element)) {\n        this.callBase($element);\n      }\n\n      eventsEngine.on($element, \"click\", clickHandler);\n    },\n    configure: function (data) {\n      this.callBase(data);\n\n      if (data.useNative) {\n        this.getElement().addClass(NATIVE_CLICK_CLASS);\n      }\n    },\n    start: function (e) {\n      prevented = null;\n\n      if (!isNativeClickEvent(e.target)) {\n        this.callBase(e);\n      }\n    },\n    end: function (e) {\n      if (!isNativeClickEvent(e.target)) {\n        this.callBase(e);\n      }\n    },\n    cancel: function () {\n      prevented = true;\n    },\n    dispose: function () {\n      this.callBase();\n      eventsEngine.off(this.getElement(), \"click\", clickHandler);\n    }\n  });\n}();\n!function () {\n  var desktopDevice = devices.real().generic;\n\n  if (!desktopDevice) {\n    var startTarget = null,\n        blurPrevented = false;\n\n    var pointerDownHandler = function (e) {\n      startTarget = e.target;\n      blurPrevented = e.isDefaultPrevented();\n    };\n\n    var clickHandler = function (e) {\n      var $target = $(e.target);\n\n      if (!blurPrevented && startTarget && !$target.is(startTarget) && !$(startTarget).is(\"label\") && isInput($target)) {\n        domUtils.resetActiveElement();\n      }\n\n      startTarget = null;\n      blurPrevented = false;\n    };\n\n    var NATIVE_CLICK_FIXER_NAMESPACE = \"NATIVE_CLICK_FIXER\",\n        document = domAdapter.getDocument();\n    eventsEngine.subscribeGlobal(document, eventUtils.addNamespace(pointerEvents.down, NATIVE_CLICK_FIXER_NAMESPACE), pointerDownHandler);\n    eventsEngine.subscribeGlobal(document, eventUtils.addNamespace(\"click\", NATIVE_CLICK_FIXER_NAMESPACE), clickHandler);\n  }\n}();\nregisterEmitter({\n  emitter: ClickEmitter,\n  bubble: true,\n  events: [CLICK_EVENT_NAME]\n});\nexports.name = CLICK_EVENT_NAME;","map":{"version":3,"sources":["C:/Users/abdel/PhpstormProjects/editeur_scenario_jeu/node_modules/devextreme/events/click.js"],"names":["$","require","eventsEngine","devices","domAdapter","domUtils","animationFrame","eventUtils","pointerEvents","Emitter","registerEmitter","compareVersions","compare","CLICK_EVENT_NAME","TOUCH_BOUNDARY","abs","Math","isInput","element","is","misc","requestAnimationFrame","cancelAnimationFrame","ClickEmitter","inherit","ctor","callBase","_makeElementClickable","$element","attr","start","e","_blurPrevented","isDefaultPrevented","_startTarget","target","_startEventData","eventData","end","_eventOutOfElement","getElement","get","type","cancel","_cancel","resetActiveElement","_accept","_clickAnimationFrame","_fireClickEvent","bind","targetChanged","contains","gestureDelta","eventDelta","boundsExceeded","x","y","_fireEvent","closestCommonParent","dispose","NATIVE_CLICK_CLASS","realDevice","real","useNativeClick","generic","ios","version","android","isNativeClickEvent","closest","length","prevented","lastFiredEvent","clickHandler","originalEvent","eventAlreadyFired","DXCLICK_FIRED","leftButton","which","fireEvent","on","configure","data","useNative","addClass","off","desktopDevice","startTarget","blurPrevented","pointerDownHandler","$target","NATIVE_CLICK_FIXER_NAMESPACE","document","getDocument","subscribeGlobal","addNamespace","down","emitter","bubble","events","exports","name"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (events/click.js)\r\n * Version: 18.2.13\r\n * Build date: Wed May 27 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nvar $ = require(\"../core/renderer\"),\r\n    eventsEngine = require(\"../events/core/events_engine\"),\r\n    devices = require(\"../core/devices\"),\r\n    domAdapter = require(\"../core/dom_adapter\"),\r\n    domUtils = require(\"../core/utils/dom\"),\r\n    animationFrame = require(\"../animation/frame\"),\r\n    eventUtils = require(\"./utils\"),\r\n    pointerEvents = require(\"./pointer\"),\r\n    Emitter = require(\"./core/emitter\"),\r\n    registerEmitter = require(\"./core/emitter_registrator\"),\r\n    compareVersions = require(\"../core/utils/version\").compare;\r\nvar CLICK_EVENT_NAME = \"dxclick\",\r\n    TOUCH_BOUNDARY = 10,\r\n    abs = Math.abs;\r\nvar isInput = function(element) {\r\n    return $(element).is(\"input, textarea, select, button ,:focus, :focus *\")\r\n};\r\nvar misc = {\r\n    requestAnimationFrame: animationFrame.requestAnimationFrame,\r\n    cancelAnimationFrame: animationFrame.cancelAnimationFrame\r\n};\r\nvar ClickEmitter = Emitter.inherit({\r\n    ctor: function(element) {\r\n        this.callBase(element);\r\n        this._makeElementClickable($(element))\r\n    },\r\n    _makeElementClickable: function($element) {\r\n        if (!$element.attr(\"onclick\")) {\r\n            $element.attr(\"onclick\", \"void(0)\")\r\n        }\r\n    },\r\n    start: function(e) {\r\n        this._blurPrevented = e.isDefaultPrevented();\r\n        this._startTarget = e.target;\r\n        this._startEventData = eventUtils.eventData(e)\r\n    },\r\n    end: function(e) {\r\n        if (this._eventOutOfElement(e, this.getElement().get(0)) || e.type === pointerEvents.cancel) {\r\n            this._cancel(e);\r\n            return\r\n        }\r\n        if (!isInput(e.target) && !this._blurPrevented) {\r\n            domUtils.resetActiveElement()\r\n        }\r\n        this._accept(e);\r\n        this._clickAnimationFrame = misc.requestAnimationFrame(function() {\r\n            this._fireClickEvent(e)\r\n        }.bind(this))\r\n    },\r\n    _eventOutOfElement: function(e, element) {\r\n        var target = e.target,\r\n            targetChanged = !domUtils.contains(element, target) && element !== target,\r\n            gestureDelta = eventUtils.eventDelta(eventUtils.eventData(e), this._startEventData),\r\n            boundsExceeded = abs(gestureDelta.x) > TOUCH_BOUNDARY || abs(gestureDelta.y) > TOUCH_BOUNDARY;\r\n        return targetChanged || boundsExceeded\r\n    },\r\n    _fireClickEvent: function(e) {\r\n        this._fireEvent(CLICK_EVENT_NAME, e, {\r\n            target: domUtils.closestCommonParent(this._startTarget, e.target)\r\n        })\r\n    },\r\n    dispose: function() {\r\n        misc.cancelAnimationFrame(this._clickAnimationFrame)\r\n    }\r\n});\r\n! function() {\r\n    var NATIVE_CLICK_CLASS = \"dx-native-click\";\r\n    var realDevice = devices.real(),\r\n        useNativeClick = realDevice.generic || realDevice.ios && compareVersions(realDevice.version, [9, 3]) >= 0 || realDevice.android && compareVersions(realDevice.version, [5]) >= 0;\r\n    var isNativeClickEvent = function(target) {\r\n        return useNativeClick || $(target).closest(\".\" + NATIVE_CLICK_CLASS).length\r\n    };\r\n    var prevented = null,\r\n        lastFiredEvent = null;\r\n    var clickHandler = function(e) {\r\n        var originalEvent = e.originalEvent,\r\n            eventAlreadyFired = lastFiredEvent === originalEvent || originalEvent && originalEvent.DXCLICK_FIRED,\r\n            leftButton = !e.which || 1 === e.which;\r\n        if (leftButton && !prevented && isNativeClickEvent(e.target) && !eventAlreadyFired) {\r\n            if (originalEvent) {\r\n                originalEvent.DXCLICK_FIRED = true\r\n            }\r\n            lastFiredEvent = originalEvent;\r\n            eventUtils.fireEvent({\r\n                type: CLICK_EVENT_NAME,\r\n                originalEvent: e\r\n            })\r\n        }\r\n    };\r\n    ClickEmitter = ClickEmitter.inherit({\r\n        _makeElementClickable: function($element) {\r\n            if (!isNativeClickEvent($element)) {\r\n                this.callBase($element)\r\n            }\r\n            eventsEngine.on($element, \"click\", clickHandler)\r\n        },\r\n        configure: function(data) {\r\n            this.callBase(data);\r\n            if (data.useNative) {\r\n                this.getElement().addClass(NATIVE_CLICK_CLASS)\r\n            }\r\n        },\r\n        start: function(e) {\r\n            prevented = null;\r\n            if (!isNativeClickEvent(e.target)) {\r\n                this.callBase(e)\r\n            }\r\n        },\r\n        end: function(e) {\r\n            if (!isNativeClickEvent(e.target)) {\r\n                this.callBase(e)\r\n            }\r\n        },\r\n        cancel: function() {\r\n            prevented = true\r\n        },\r\n        dispose: function() {\r\n            this.callBase();\r\n            eventsEngine.off(this.getElement(), \"click\", clickHandler)\r\n        }\r\n    })\r\n}();\r\n! function() {\r\n    var desktopDevice = devices.real().generic;\r\n    if (!desktopDevice) {\r\n        var startTarget = null,\r\n            blurPrevented = false;\r\n        var pointerDownHandler = function(e) {\r\n            startTarget = e.target;\r\n            blurPrevented = e.isDefaultPrevented()\r\n        };\r\n        var clickHandler = function(e) {\r\n            var $target = $(e.target);\r\n            if (!blurPrevented && startTarget && !$target.is(startTarget) && !$(startTarget).is(\"label\") && isInput($target)) {\r\n                domUtils.resetActiveElement()\r\n            }\r\n            startTarget = null;\r\n            blurPrevented = false\r\n        };\r\n        var NATIVE_CLICK_FIXER_NAMESPACE = \"NATIVE_CLICK_FIXER\",\r\n            document = domAdapter.getDocument();\r\n        eventsEngine.subscribeGlobal(document, eventUtils.addNamespace(pointerEvents.down, NATIVE_CLICK_FIXER_NAMESPACE), pointerDownHandler);\r\n        eventsEngine.subscribeGlobal(document, eventUtils.addNamespace(\"click\", NATIVE_CLICK_FIXER_NAMESPACE), clickHandler)\r\n    }\r\n}();\r\nregisterEmitter({\r\n    emitter: ClickEmitter,\r\n    bubble: true,\r\n    events: [CLICK_EVENT_NAME]\r\n});\r\nexports.name = CLICK_EVENT_NAME;\r\n"]},"metadata":{},"sourceType":"script"}