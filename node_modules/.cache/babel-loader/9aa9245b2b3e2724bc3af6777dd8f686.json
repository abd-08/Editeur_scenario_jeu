{"ast":null,"code":"/**\r\n * DevExtreme (ui/widget/ui.widget.js)\r\n * Version: 18.2.13\r\n * Build date: Wed May 27 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nvar $ = require(\"../../core/renderer\"),\n    eventsEngine = require(\"../../events/core/events_engine\"),\n    errors = require(\"./ui.errors\"),\n    Action = require(\"../../core/action\"),\n    extend = require(\"../../core/utils/extend\").extend,\n    inArray = require(\"../../core/utils/array\").inArray,\n    each = require(\"../../core/utils/iterator\").each,\n    commonUtils = require(\"../../core/utils/common\"),\n    typeUtils = require(\"../../core/utils/type\"),\n    domUtils = require(\"../../core/utils/dom\"),\n    domAdapter = require(\"../../core/dom_adapter\"),\n    devices = require(\"../../core/devices\"),\n    DOMComponent = require(\"../../core/dom_component\"),\n    Template = require(\"./template\"),\n    TemplateBase = require(\"./ui.template_base\"),\n    FunctionTemplate = require(\"./function_template\"),\n    EmptyTemplate = require(\"./empty_template\"),\n    ChildDefaultTemplate = require(\"./child_default_template\"),\n    KeyboardProcessor = require(\"./ui.keyboard_processor\"),\n    selectors = require(\"./selectors\"),\n    eventUtils = require(\"../../events/utils\"),\n    hoverEvents = require(\"../../events/hover\"),\n    feedbackEvents = require(\"../../events/core/emitter.feedback\"),\n    clickEvent = require(\"../../events/click\"),\n    inflector = require(\"../../core/utils/inflector\");\n\nvar UI_FEEDBACK = \"UIFeedback\",\n    WIDGET_CLASS = \"dx-widget\",\n    ACTIVE_STATE_CLASS = \"dx-state-active\",\n    DISABLED_STATE_CLASS = \"dx-state-disabled\",\n    INVISIBLE_STATE_CLASS = \"dx-state-invisible\",\n    HOVER_STATE_CLASS = \"dx-state-hover\",\n    FOCUSED_STATE_CLASS = \"dx-state-focused\",\n    FEEDBACK_SHOW_TIMEOUT = 30,\n    FEEDBACK_HIDE_TIMEOUT = 400,\n    FOCUS_NAMESPACE = \"Focus\",\n    ANONYMOUS_TEMPLATE_NAME = \"template\",\n    TEXT_NODE = 3,\n    TEMPLATE_SELECTOR = \"[data-options*='dxTemplate']\",\n    TEMPLATE_WRAPPER_CLASS = \"dx-template-wrapper\";\nvar DX_POLYMORPH_WIDGET_TEMPLATE = new FunctionTemplate(function (options) {\n  var widgetName = options.model.widget;\n\n  if (widgetName) {\n    var widgetElement = $(\"<div>\"),\n        widgetOptions = options.model.options || {};\n\n    if (\"button\" === widgetName || \"tabs\" === widgetName || \"dropDownMenu\" === widgetName) {\n      var deprecatedName = widgetName;\n      widgetName = inflector.camelize(\"dx-\" + widgetName);\n      errors.log(\"W0001\", \"dxToolbar - 'widget' item field\", deprecatedName, \"16.1\", \"Use: '\" + widgetName + \"' instead\");\n    }\n\n    if (options.parent) {\n      options.parent._createComponent(widgetElement, widgetName, widgetOptions);\n    } else {\n      widgetElement[widgetName](widgetOptions);\n    }\n\n    return widgetElement;\n  }\n\n  return $();\n});\nvar Widget = DOMComponent.inherit({\n  _supportedKeys: function () {\n    return {};\n  },\n  _getDefaultOptions: function () {\n    return extend(this.callBase(), {\n      disabled: false,\n      visible: true,\n      hint: void 0,\n      activeStateEnabled: false,\n      onContentReady: null,\n      hoverStateEnabled: false,\n      focusStateEnabled: false,\n      tabIndex: 0,\n      accessKey: null,\n      onFocusIn: null,\n      onFocusOut: null,\n      integrationOptions: {\n        watchMethod: function (fn, callback, options) {\n          options = options || {};\n\n          if (!options.skipImmediate) {\n            callback(fn());\n          }\n\n          return commonUtils.noop;\n        },\n        templates: {\n          \"dx-polymorph-widget\": DX_POLYMORPH_WIDGET_TEMPLATE\n        },\n        createTemplate: function (element) {\n          return new Template(element);\n        }\n      },\n      _keyboardProcessor: void 0\n    });\n  },\n  _feedbackShowTimeout: FEEDBACK_SHOW_TIMEOUT,\n  _feedbackHideTimeout: FEEDBACK_HIDE_TIMEOUT,\n  _init: function () {\n    this.callBase();\n    this._tempTemplates = [];\n    this._defaultTemplates = {};\n\n    this._initTemplates();\n\n    this._initContentReadyAction();\n  },\n  _initTemplates: function () {\n    this._extractTemplates();\n\n    this._extractAnonymousTemplate();\n  },\n  _clearInnerOptionCache: function (optionContainer) {\n    this[optionContainer + \"Cache\"] = {};\n  },\n  _cacheInnerOptions: function (optionContainer, optionValue) {\n    var cacheName = optionContainer + \"Cache\";\n    this[cacheName] = extend(this[cacheName], optionValue);\n  },\n  _getInnerOptionsCache: function (optionContainer) {\n    return this[optionContainer + \"Cache\"];\n  },\n  _initInnerOptionCache: function (optionContainer) {\n    this._clearInnerOptionCache(optionContainer);\n\n    this._cacheInnerOptions(optionContainer, this.option(optionContainer));\n  },\n  _bindInnerWidgetOptions: function (innerWidget, optionsContainer) {\n    this._options[optionsContainer] = extend({}, innerWidget.option());\n    innerWidget.on(\"optionChanged\", function (e) {\n      this._options[optionsContainer] = extend({}, e.component.option());\n    }.bind(this));\n  },\n  _extractTemplates: function () {\n    var templateElements = this.$element().contents().filter(TEMPLATE_SELECTOR);\n    var templatesMap = {};\n    templateElements.each(function (_, template) {\n      var templateOptions = domUtils.getElementOptions(template).dxTemplate;\n\n      if (!templateOptions) {\n        return;\n      }\n\n      if (!templateOptions.name) {\n        throw errors.Error(\"E0023\");\n      }\n\n      $(template).addClass(TEMPLATE_WRAPPER_CLASS).detach();\n      templatesMap[templateOptions.name] = templatesMap[templateOptions.name] || [];\n      templatesMap[templateOptions.name].push(template);\n    });\n    each(templatesMap, function (templateName, value) {\n      var deviceTemplate = this._findTemplateByDevice(value);\n\n      if (deviceTemplate) {\n        this._saveTemplate(templateName, deviceTemplate);\n      }\n    }.bind(this));\n  },\n  _saveTemplate: function (name, template) {\n    var templates = this.option(\"integrationOptions.templates\");\n    templates[name] = this._createTemplate(template);\n  },\n  _findTemplateByDevice: function (templates) {\n    var suitableTemplate = commonUtils.findBestMatches(devices.current(), templates, function (template) {\n      return domUtils.getElementOptions(template).dxTemplate;\n    })[0];\n    each(templates, function (index, template) {\n      if (template !== suitableTemplate) {\n        $(template).remove();\n      }\n    });\n    return suitableTemplate;\n  },\n  _extractAnonymousTemplate: function () {\n    var templates = this.option(\"integrationOptions.templates\"),\n        anonymousTemplateName = this._getAnonymousTemplateName(),\n        $anonymousTemplate = this.$element().contents().detach();\n\n    var $notJunkTemplateContent = $anonymousTemplate.filter(function (_, element) {\n      var isTextNode = element.nodeType === TEXT_NODE,\n          isEmptyText = $(element).text().trim().length < 1;\n      return !(isTextNode && isEmptyText);\n    }),\n        onlyJunkTemplateContent = $notJunkTemplateContent.length < 1;\n\n    if (!templates[anonymousTemplateName] && !onlyJunkTemplateContent) {\n      templates[anonymousTemplateName] = this._createTemplate($anonymousTemplate);\n    }\n  },\n  _getAriaTarget: function () {\n    return this._focusTarget();\n  },\n  _getAnonymousTemplateName: function () {\n    return ANONYMOUS_TEMPLATE_NAME;\n  },\n  _getTemplateByOption: function (optionName) {\n    return this._getTemplate(this.option(optionName));\n  },\n  _getTemplate: function (templateSource) {\n    if (typeUtils.isFunction(templateSource)) {\n      return new FunctionTemplate(function (options) {\n        var templateSourceResult = templateSource.apply(this, this._getNormalizedTemplateArgs(options));\n\n        if (!typeUtils.isDefined(templateSourceResult)) {\n          return new EmptyTemplate();\n        }\n\n        var dispose = false;\n\n        var template = this._acquireTemplate(templateSourceResult, function (templateSource) {\n          if (templateSource.nodeType || typeUtils.isRenderer(templateSource) && !$(templateSource).is(\"script\")) {\n            return new FunctionTemplate(function () {\n              return templateSource;\n            });\n          }\n\n          dispose = true;\n          return this._createTemplate(templateSource);\n        }.bind(this));\n\n        var result = template.render(options);\n        dispose && template.dispose && template.dispose();\n        return result;\n      }.bind(this));\n    }\n\n    return this._acquireTemplate(templateSource, this._createTemplateIfNeeded.bind(this));\n  },\n  _acquireTemplate: function (templateSource, createTemplate) {\n    if (null == templateSource) {\n      return new EmptyTemplate();\n    }\n\n    if (templateSource instanceof ChildDefaultTemplate) {\n      return this._defaultTemplates[templateSource.name];\n    }\n\n    if (templateSource instanceof TemplateBase) {\n      return templateSource;\n    }\n\n    if (typeUtils.isFunction(templateSource.render) && !typeUtils.isRenderer(templateSource)) {\n      return this._addOneRenderedCall(templateSource);\n    }\n\n    if (templateSource.nodeType || typeUtils.isRenderer(templateSource)) {\n      return createTemplate($(templateSource));\n    }\n\n    if (\"string\" === typeof templateSource) {\n      return this._renderIntegrationTemplate(templateSource) || this._defaultTemplates[templateSource] || createTemplate(templateSource);\n    }\n\n    return this._acquireTemplate(templateSource.toString(), createTemplate);\n  },\n  _addOneRenderedCall: function (template) {\n    var _render = template.render.bind(template);\n\n    return extend({}, template, {\n      render: function (options) {\n        var templateResult = _render(options);\n\n        options && options.onRendered && options.onRendered();\n        return templateResult;\n      }\n    });\n  },\n  _renderIntegrationTemplate: function (templateSource) {\n    var integrationTemplate = this.option(\"integrationOptions.templates\")[templateSource];\n\n    if (integrationTemplate && !(integrationTemplate instanceof TemplateBase)) {\n      var isAsyncTemplate = this.option(\"templatesRenderAsynchronously\");\n\n      if (!isAsyncTemplate) {\n        return this._addOneRenderedCall(integrationTemplate);\n      }\n    }\n\n    return integrationTemplate;\n  },\n  _createTemplateIfNeeded: function (templateSource) {\n    var templateKey = function (templateSource) {\n      return typeUtils.isRenderer(templateSource) && templateSource[0] || templateSource;\n    };\n\n    var cachedTemplate = this._tempTemplates.filter(function (t) {\n      templateSource = templateKey(templateSource);\n      return t.source === templateSource;\n    })[0];\n\n    if (cachedTemplate) {\n      return cachedTemplate.template;\n    }\n\n    var template = this._createTemplate(templateSource);\n\n    this._tempTemplates.push({\n      template: template,\n      source: templateKey(templateSource)\n    });\n\n    return template;\n  },\n  _createTemplate: function (templateSource) {\n    templateSource = \"string\" === typeof templateSource ? domUtils.normalizeTemplateElement(templateSource) : templateSource;\n    return this.option(\"integrationOptions.createTemplate\")(templateSource);\n  },\n  _getNormalizedTemplateArgs: function (options) {\n    var args = [];\n\n    if (\"model\" in options) {\n      args.push(options.model);\n    }\n\n    if (\"index\" in options) {\n      args.push(options.index);\n    }\n\n    args.push(options.container);\n    return args;\n  },\n  _cleanTemplates: function () {\n    this._tempTemplates.forEach(function (t) {\n      t.template.dispose && t.template.dispose();\n    });\n\n    this._tempTemplates = [];\n  },\n  _initContentReadyAction: function () {\n    this._contentReadyAction = this._createActionByOption(\"onContentReady\", {\n      excludeValidators: [\"designMode\", \"disabled\", \"readOnly\"]\n    });\n  },\n  _initMarkup: function () {\n    this.$element().addClass(WIDGET_CLASS);\n\n    this._toggleDisabledState(this.option(\"disabled\"));\n\n    this._toggleVisibility(this.option(\"visible\"));\n\n    this._renderHint();\n\n    if (this._isFocusable()) {\n      this._renderFocusTarget();\n    }\n\n    this.callBase();\n  },\n  _render: function () {\n    this.callBase();\n\n    this._renderContent();\n\n    this._renderFocusState();\n\n    this._attachFeedbackEvents();\n\n    this._attachHoverEvents();\n  },\n  _renderHint: function () {\n    domUtils.toggleAttr(this.$element(), \"title\", this.option(\"hint\"));\n  },\n  _renderContent: function () {\n    var _this = this;\n\n    commonUtils.deferRender(function () {\n      if (_this._disposed) {\n        return;\n      }\n\n      return _this._renderContentImpl();\n    }).done(function () {\n      if (_this._disposed) {\n        return;\n      }\n\n      _this._fireContentReadyAction();\n    });\n  },\n  _renderContentImpl: commonUtils.noop,\n  _fireContentReadyAction: commonUtils.deferRenderer(function () {\n    this._contentReadyAction();\n  }),\n  _dispose: function () {\n    this._cleanTemplates();\n\n    this._contentReadyAction = null;\n    this.callBase();\n  },\n  _resetActiveState: function () {\n    this._toggleActiveState(this._eventBindingTarget(), false);\n  },\n  _clean: function () {\n    this._cleanFocusState();\n\n    this._resetActiveState();\n\n    this.callBase();\n    this.$element().empty();\n  },\n  _toggleVisibility: function (visible) {\n    this.$element().toggleClass(INVISIBLE_STATE_CLASS, !visible);\n    this.setAria(\"hidden\", !visible || void 0);\n  },\n  _renderFocusState: function () {\n    this._attachKeyboardEvents();\n\n    if (!this._isFocusable()) {\n      return;\n    }\n\n    this._renderFocusTarget();\n\n    this._attachFocusEvents();\n\n    this._renderAccessKey();\n  },\n  _renderAccessKey: function () {\n    var focusTarget = this._focusTarget();\n\n    focusTarget.attr(\"accesskey\", this.option(\"accessKey\"));\n    var clickNamespace = eventUtils.addNamespace(clickEvent.name, UI_FEEDBACK);\n    eventsEngine.off(focusTarget, clickNamespace);\n    this.option(\"accessKey\") && eventsEngine.on(focusTarget, clickNamespace, function (e) {\n      if (eventUtils.isFakeClickEvent(e)) {\n        e.stopImmediatePropagation();\n        this.focus();\n      }\n    }.bind(this));\n  },\n  _isFocusable: function () {\n    return this.option(\"focusStateEnabled\") && !this.option(\"disabled\");\n  },\n  _eventBindingTarget: function () {\n    return this.$element();\n  },\n  _focusTarget: function () {\n    return this._getActiveElement();\n  },\n  _getActiveElement: function () {\n    var activeElement = this._eventBindingTarget();\n\n    if (this._activeStateUnit) {\n      activeElement = activeElement.find(this._activeStateUnit).not(\".\" + DISABLED_STATE_CLASS);\n    }\n\n    return activeElement;\n  },\n  _renderFocusTarget: function () {\n    this._focusTarget().attr(\"tabIndex\", this.option(\"tabIndex\"));\n  },\n  _keyboardEventBindingTarget: function () {\n    return this._eventBindingTarget();\n  },\n  _detachFocusEvents: function () {\n    var $element = this._focusTarget(),\n        namespace = this.NAME + FOCUS_NAMESPACE,\n        focusEvents = eventUtils.addNamespace(\"focusin\", namespace);\n\n    focusEvents = focusEvents + \" \" + eventUtils.addNamespace(\"focusout\", namespace);\n\n    if (domAdapter.hasDocumentProperty(\"onbeforeactivate\")) {\n      focusEvents = focusEvents + \" \" + eventUtils.addNamespace(\"beforeactivate\", namespace);\n    }\n\n    eventsEngine.off($element, focusEvents);\n  },\n  _attachFocusEvents: function () {\n    var namespace = this.NAME + FOCUS_NAMESPACE,\n        focusInEvent = eventUtils.addNamespace(\"focusin\", namespace),\n        focusOutEvent = eventUtils.addNamespace(\"focusout\", namespace);\n\n    var $focusTarget = this._focusTarget();\n\n    eventsEngine.on($focusTarget, focusInEvent, this._focusInHandler.bind(this));\n    eventsEngine.on($focusTarget, focusOutEvent, this._focusOutHandler.bind(this));\n\n    if (domAdapter.hasDocumentProperty(\"onbeforeactivate\")) {\n      var beforeActivateEvent = eventUtils.addNamespace(\"beforeactivate\", namespace);\n      eventsEngine.on(this._focusTarget(), beforeActivateEvent, function (e) {\n        if (!$(e.target).is(selectors.focusable)) {\n          e.preventDefault();\n        }\n      });\n    }\n  },\n  _refreshFocusEvent: function () {\n    this._detachFocusEvents();\n\n    this._attachFocusEvents();\n  },\n  _focusInHandler: function (e) {\n    var that = this;\n\n    that._createActionByOption(\"onFocusIn\", {\n      beforeExecute: function () {\n        that._updateFocusState(e, true);\n      },\n      excludeValidators: [\"readOnly\"]\n    })({\n      event: e\n    });\n  },\n  _focusOutHandler: function (e) {\n    var that = this;\n\n    that._createActionByOption(\"onFocusOut\", {\n      beforeExecute: function () {\n        that._updateFocusState(e, false);\n      },\n      excludeValidators: [\"readOnly\", \"disabled\"]\n    })({\n      event: e\n    });\n  },\n  _updateFocusState: function (e, isFocused) {\n    var target = e.target;\n\n    if (inArray(target, this._focusTarget()) !== -1) {\n      this._toggleFocusClass(isFocused, $(target));\n    }\n  },\n  _toggleFocusClass: function (isFocused, $element) {\n    var $focusTarget = $element && $element.length ? $element : this._focusTarget();\n    $focusTarget.toggleClass(FOCUSED_STATE_CLASS, isFocused);\n  },\n  _hasFocusClass: function (element) {\n    var $focusTarget = $(element || this._focusTarget());\n    return $focusTarget.hasClass(FOCUSED_STATE_CLASS);\n  },\n  _isFocused: function () {\n    return this._hasFocusClass();\n  },\n  _attachKeyboardEvents: function () {\n    var processor = this.option(\"_keyboardProcessor\");\n\n    if (processor) {\n      this._keyboardProcessor = processor.reinitialize(this._keyboardHandler, this);\n    } else {\n      if (this.option(\"focusStateEnabled\")) {\n        this._disposeKeyboardProcessor();\n\n        this._keyboardProcessor = new KeyboardProcessor({\n          element: this._keyboardEventBindingTarget(),\n          handler: this._keyboardHandler,\n          focusTarget: this._focusTarget(),\n          context: this\n        });\n      }\n    }\n  },\n  _keyboardHandler: function (options) {\n    var e = options.originalEvent;\n    var keyName = options.keyName;\n    var keyCode = options.which;\n\n    var keys = this._supportedKeys(e),\n        func = keys[keyName] || keys[keyCode];\n\n    if (void 0 !== func) {\n      var handler = func.bind(this);\n      return handler(e) || false;\n    } else {\n      return true;\n    }\n  },\n  _refreshFocusState: function () {\n    this._cleanFocusState();\n\n    this._renderFocusState();\n  },\n  _cleanFocusState: function () {\n    var $element = this._focusTarget();\n\n    this._detachFocusEvents();\n\n    this._toggleFocusClass(false);\n\n    $element.removeAttr(\"tabIndex\");\n\n    this._disposeKeyboardProcessor();\n  },\n  _disposeKeyboardProcessor: function () {\n    if (this._keyboardProcessor) {\n      this._keyboardProcessor.dispose();\n\n      delete this._keyboardProcessor;\n    }\n  },\n  _attachHoverEvents: function () {\n    var that = this,\n        hoverableSelector = that._activeStateUnit,\n        nameStart = eventUtils.addNamespace(hoverEvents.start, UI_FEEDBACK),\n        nameEnd = eventUtils.addNamespace(hoverEvents.end, UI_FEEDBACK);\n    eventsEngine.off(that._eventBindingTarget(), nameStart, hoverableSelector);\n    eventsEngine.off(that._eventBindingTarget(), nameEnd, hoverableSelector);\n\n    if (that.option(\"hoverStateEnabled\")) {\n      var startAction = new Action(function (args) {\n        that._hoverStartHandler(args.event);\n\n        that._refreshHoveredElement($(args.element));\n      }, {\n        excludeValidators: [\"readOnly\"]\n      });\n\n      var $eventBindingTarget = that._eventBindingTarget();\n\n      eventsEngine.on($eventBindingTarget, nameStart, hoverableSelector, function (e) {\n        startAction.execute({\n          element: $(e.target),\n          event: e\n        });\n      });\n      eventsEngine.on($eventBindingTarget, nameEnd, hoverableSelector, function (e) {\n        that._hoverEndHandler(e);\n\n        that._forgetHoveredElement();\n      });\n    } else {\n      that._toggleHoverClass(false);\n    }\n  },\n  _hoverStartHandler: commonUtils.noop,\n  _hoverEndHandler: commonUtils.noop,\n  _attachFeedbackEvents: function () {\n    var feedbackAction,\n        feedbackActionDisabled,\n        that = this,\n        feedbackSelector = that._activeStateUnit,\n        activeEventName = eventUtils.addNamespace(feedbackEvents.active, UI_FEEDBACK),\n        inactiveEventName = eventUtils.addNamespace(feedbackEvents.inactive, UI_FEEDBACK);\n    eventsEngine.off(that._eventBindingTarget(), activeEventName, feedbackSelector);\n    eventsEngine.off(that._eventBindingTarget(), inactiveEventName, feedbackSelector);\n\n    if (that.option(\"activeStateEnabled\")) {\n      var feedbackActionHandler = function (args) {\n        var $element = $(args.element),\n            value = args.value,\n            dxEvent = args.event;\n\n        that._toggleActiveState($element, value, dxEvent);\n      };\n\n      eventsEngine.on(that._eventBindingTarget(), activeEventName, feedbackSelector, {\n        timeout: that._feedbackShowTimeout\n      }, function (e) {\n        feedbackAction = feedbackAction || new Action(feedbackActionHandler);\n        feedbackAction.execute({\n          element: $(e.currentTarget),\n          value: true,\n          event: e\n        });\n      });\n      eventsEngine.on(that._eventBindingTarget(), inactiveEventName, feedbackSelector, {\n        timeout: that._feedbackHideTimeout\n      }, function (e) {\n        feedbackActionDisabled = feedbackActionDisabled || new Action(feedbackActionHandler, {\n          excludeValidators: [\"disabled\", \"readOnly\"]\n        });\n        feedbackActionDisabled.execute({\n          element: $(e.currentTarget),\n          value: false,\n          event: e\n        });\n      });\n    }\n  },\n  _toggleActiveState: function ($element, value) {\n    this._toggleHoverClass(!value);\n\n    $element.toggleClass(ACTIVE_STATE_CLASS, value);\n  },\n  _refreshHoveredElement: function (hoveredElement) {\n    var selector = this._activeStateUnit || this._eventBindingTarget();\n\n    this._forgetHoveredElement();\n\n    this._hoveredElement = hoveredElement.closest(selector);\n\n    this._toggleHoverClass(true);\n  },\n  _forgetHoveredElement: function () {\n    this._toggleHoverClass(false);\n\n    delete this._hoveredElement;\n  },\n  _toggleHoverClass: function (value) {\n    if (this._hoveredElement) {\n      this._hoveredElement.toggleClass(HOVER_STATE_CLASS, value && this.option(\"hoverStateEnabled\"));\n    }\n  },\n  _toggleDisabledState: function (value) {\n    this.$element().toggleClass(DISABLED_STATE_CLASS, Boolean(value));\n\n    this._toggleHoverClass(!value);\n\n    this.setAria(\"disabled\", value || void 0);\n  },\n  _setWidgetOption: function (widgetName, args) {\n    if (!this[widgetName]) {\n      return;\n    }\n\n    if (typeUtils.isPlainObject(args[0])) {\n      each(args[0], function (option, value) {\n        this._setWidgetOption(widgetName, [option, value]);\n      }.bind(this));\n      return;\n    }\n\n    var optionName = args[0];\n    var value = args[1];\n\n    if (1 === args.length) {\n      value = this.option(optionName);\n    }\n\n    var widgetOptionMap = this[widgetName + \"OptionMap\"];\n    this[widgetName].option(widgetOptionMap ? widgetOptionMap(optionName) : optionName, value);\n  },\n  _optionChanged: function (args) {\n    switch (args.name) {\n      case \"disabled\":\n        this._toggleDisabledState(args.value);\n\n        this._refreshFocusState();\n\n        break;\n\n      case \"hint\":\n        this._renderHint();\n\n        break;\n\n      case \"activeStateEnabled\":\n        this._attachFeedbackEvents();\n\n        break;\n\n      case \"hoverStateEnabled\":\n        this._attachHoverEvents();\n\n        break;\n\n      case \"tabIndex\":\n      case \"_keyboardProcessor\":\n      case \"focusStateEnabled\":\n        this._refreshFocusState();\n\n        break;\n\n      case \"onFocusIn\":\n      case \"onFocusOut\":\n        break;\n\n      case \"accessKey\":\n        this._renderAccessKey();\n\n        break;\n\n      case \"visible\":\n        var visible = args.value;\n\n        this._toggleVisibility(visible);\n\n        if (this._isVisibilityChangeSupported()) {\n          this._checkVisibilityChanged(args.value ? \"shown\" : \"hiding\");\n        }\n\n        break;\n\n      case \"onContentReady\":\n        this._initContentReadyAction();\n\n        break;\n\n      default:\n        this.callBase(args);\n    }\n  },\n  _isVisible: function () {\n    return this.callBase() && this.option(\"visible\");\n  },\n  beginUpdate: function () {\n    this._ready(false);\n\n    this.callBase();\n  },\n  endUpdate: function () {\n    this.callBase();\n\n    if (this._initialized) {\n      this._ready(true);\n    }\n  },\n  _ready: function (value) {\n    if (0 === arguments.length) {\n      return this._isReady;\n    }\n\n    this._isReady = value;\n  },\n  setAria: function () {\n    var setAttribute = function (option) {\n      var attrName = \"role\" === option.name || \"id\" === option.name ? option.name : \"aria-\" + option.name,\n          attrValue = option.value;\n\n      if (null === attrValue || void 0 === attrValue) {\n        attrValue = void 0;\n      } else {\n        attrValue = attrValue.toString();\n      }\n\n      domUtils.toggleAttr(option.target, attrName, attrValue);\n    };\n\n    if (!typeUtils.isPlainObject(arguments[0])) {\n      setAttribute({\n        name: arguments[0],\n        value: arguments[1],\n        target: arguments[2] || this._getAriaTarget()\n      });\n    } else {\n      var $target = arguments[1] || this._getAriaTarget();\n\n      each(arguments[0], function (key, value) {\n        setAttribute({\n          name: key,\n          value: value,\n          target: $target\n        });\n      });\n    }\n  },\n  isReady: function () {\n    return this._ready();\n  },\n  repaint: function () {\n    this._refresh();\n  },\n  focus: function () {\n    eventsEngine.trigger(this._focusTarget(), \"focus\");\n  },\n  registerKeyHandler: function (key, handler) {\n    var currentKeys = this._supportedKeys(),\n        addingKeys = {};\n\n    addingKeys[key] = handler;\n\n    this._supportedKeys = function () {\n      return extend(currentKeys, addingKeys);\n    };\n  }\n});\nmodule.exports = Widget;","map":{"version":3,"sources":["C:/Users/abdel/PhpstormProjects/editeur_scenario_jeu/node_modules/devextreme/ui/widget/ui.widget.js"],"names":["$","require","eventsEngine","errors","Action","extend","inArray","each","commonUtils","typeUtils","domUtils","domAdapter","devices","DOMComponent","Template","TemplateBase","FunctionTemplate","EmptyTemplate","ChildDefaultTemplate","KeyboardProcessor","selectors","eventUtils","hoverEvents","feedbackEvents","clickEvent","inflector","UI_FEEDBACK","WIDGET_CLASS","ACTIVE_STATE_CLASS","DISABLED_STATE_CLASS","INVISIBLE_STATE_CLASS","HOVER_STATE_CLASS","FOCUSED_STATE_CLASS","FEEDBACK_SHOW_TIMEOUT","FEEDBACK_HIDE_TIMEOUT","FOCUS_NAMESPACE","ANONYMOUS_TEMPLATE_NAME","TEXT_NODE","TEMPLATE_SELECTOR","TEMPLATE_WRAPPER_CLASS","DX_POLYMORPH_WIDGET_TEMPLATE","options","widgetName","model","widget","widgetElement","widgetOptions","deprecatedName","camelize","log","parent","_createComponent","Widget","inherit","_supportedKeys","_getDefaultOptions","callBase","disabled","visible","hint","activeStateEnabled","onContentReady","hoverStateEnabled","focusStateEnabled","tabIndex","accessKey","onFocusIn","onFocusOut","integrationOptions","watchMethod","fn","callback","skipImmediate","noop","templates","createTemplate","element","_keyboardProcessor","_feedbackShowTimeout","_feedbackHideTimeout","_init","_tempTemplates","_defaultTemplates","_initTemplates","_initContentReadyAction","_extractTemplates","_extractAnonymousTemplate","_clearInnerOptionCache","optionContainer","_cacheInnerOptions","optionValue","cacheName","_getInnerOptionsCache","_initInnerOptionCache","option","_bindInnerWidgetOptions","innerWidget","optionsContainer","_options","on","e","component","bind","templateElements","$element","contents","filter","templatesMap","_","template","templateOptions","getElementOptions","dxTemplate","name","Error","addClass","detach","push","templateName","value","deviceTemplate","_findTemplateByDevice","_saveTemplate","_createTemplate","suitableTemplate","findBestMatches","current","index","remove","anonymousTemplateName","_getAnonymousTemplateName","$anonymousTemplate","$notJunkTemplateContent","isTextNode","nodeType","isEmptyText","text","trim","length","onlyJunkTemplateContent","_getAriaTarget","_focusTarget","_getTemplateByOption","optionName","_getTemplate","templateSource","isFunction","templateSourceResult","apply","_getNormalizedTemplateArgs","isDefined","dispose","_acquireTemplate","isRenderer","is","result","render","_createTemplateIfNeeded","_addOneRenderedCall","_renderIntegrationTemplate","toString","_render","templateResult","onRendered","integrationTemplate","isAsyncTemplate","templateKey","cachedTemplate","t","source","normalizeTemplateElement","args","container","_cleanTemplates","forEach","_contentReadyAction","_createActionByOption","excludeValidators","_initMarkup","_toggleDisabledState","_toggleVisibility","_renderHint","_isFocusable","_renderFocusTarget","_renderContent","_renderFocusState","_attachFeedbackEvents","_attachHoverEvents","toggleAttr","_this","deferRender","_disposed","_renderContentImpl","done","_fireContentReadyAction","deferRenderer","_dispose","_resetActiveState","_toggleActiveState","_eventBindingTarget","_clean","_cleanFocusState","empty","toggleClass","setAria","_attachKeyboardEvents","_attachFocusEvents","_renderAccessKey","focusTarget","attr","clickNamespace","addNamespace","off","isFakeClickEvent","stopImmediatePropagation","focus","_getActiveElement","activeElement","_activeStateUnit","find","not","_keyboardEventBindingTarget","_detachFocusEvents","namespace","NAME","focusEvents","hasDocumentProperty","focusInEvent","focusOutEvent","$focusTarget","_focusInHandler","_focusOutHandler","beforeActivateEvent","target","focusable","preventDefault","_refreshFocusEvent","that","beforeExecute","_updateFocusState","event","isFocused","_toggleFocusClass","_hasFocusClass","hasClass","_isFocused","processor","reinitialize","_keyboardHandler","_disposeKeyboardProcessor","handler","context","originalEvent","keyName","keyCode","which","keys","func","_refreshFocusState","removeAttr","hoverableSelector","nameStart","start","nameEnd","end","startAction","_hoverStartHandler","_refreshHoveredElement","$eventBindingTarget","execute","_hoverEndHandler","_forgetHoveredElement","_toggleHoverClass","feedbackAction","feedbackActionDisabled","feedbackSelector","activeEventName","active","inactiveEventName","inactive","feedbackActionHandler","dxEvent","timeout","currentTarget","hoveredElement","selector","_hoveredElement","closest","Boolean","_setWidgetOption","isPlainObject","widgetOptionMap","_optionChanged","_isVisibilityChangeSupported","_checkVisibilityChanged","_isVisible","beginUpdate","_ready","endUpdate","_initialized","arguments","_isReady","setAttribute","attrName","attrValue","$target","key","isReady","repaint","_refresh","trigger","registerKeyHandler","currentKeys","addingKeys","module","exports"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (ui/widget/ui.widget.js)\r\n * Version: 18.2.13\r\n * Build date: Wed May 27 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nvar $ = require(\"../../core/renderer\"),\r\n    eventsEngine = require(\"../../events/core/events_engine\"),\r\n    errors = require(\"./ui.errors\"),\r\n    Action = require(\"../../core/action\"),\r\n    extend = require(\"../../core/utils/extend\").extend,\r\n    inArray = require(\"../../core/utils/array\").inArray,\r\n    each = require(\"../../core/utils/iterator\").each,\r\n    commonUtils = require(\"../../core/utils/common\"),\r\n    typeUtils = require(\"../../core/utils/type\"),\r\n    domUtils = require(\"../../core/utils/dom\"),\r\n    domAdapter = require(\"../../core/dom_adapter\"),\r\n    devices = require(\"../../core/devices\"),\r\n    DOMComponent = require(\"../../core/dom_component\"),\r\n    Template = require(\"./template\"),\r\n    TemplateBase = require(\"./ui.template_base\"),\r\n    FunctionTemplate = require(\"./function_template\"),\r\n    EmptyTemplate = require(\"./empty_template\"),\r\n    ChildDefaultTemplate = require(\"./child_default_template\"),\r\n    KeyboardProcessor = require(\"./ui.keyboard_processor\"),\r\n    selectors = require(\"./selectors\"),\r\n    eventUtils = require(\"../../events/utils\"),\r\n    hoverEvents = require(\"../../events/hover\"),\r\n    feedbackEvents = require(\"../../events/core/emitter.feedback\"),\r\n    clickEvent = require(\"../../events/click\"),\r\n    inflector = require(\"../../core/utils/inflector\");\r\nvar UI_FEEDBACK = \"UIFeedback\",\r\n    WIDGET_CLASS = \"dx-widget\",\r\n    ACTIVE_STATE_CLASS = \"dx-state-active\",\r\n    DISABLED_STATE_CLASS = \"dx-state-disabled\",\r\n    INVISIBLE_STATE_CLASS = \"dx-state-invisible\",\r\n    HOVER_STATE_CLASS = \"dx-state-hover\",\r\n    FOCUSED_STATE_CLASS = \"dx-state-focused\",\r\n    FEEDBACK_SHOW_TIMEOUT = 30,\r\n    FEEDBACK_HIDE_TIMEOUT = 400,\r\n    FOCUS_NAMESPACE = \"Focus\",\r\n    ANONYMOUS_TEMPLATE_NAME = \"template\",\r\n    TEXT_NODE = 3,\r\n    TEMPLATE_SELECTOR = \"[data-options*='dxTemplate']\",\r\n    TEMPLATE_WRAPPER_CLASS = \"dx-template-wrapper\";\r\nvar DX_POLYMORPH_WIDGET_TEMPLATE = new FunctionTemplate(function(options) {\r\n    var widgetName = options.model.widget;\r\n    if (widgetName) {\r\n        var widgetElement = $(\"<div>\"),\r\n            widgetOptions = options.model.options || {};\r\n        if (\"button\" === widgetName || \"tabs\" === widgetName || \"dropDownMenu\" === widgetName) {\r\n            var deprecatedName = widgetName;\r\n            widgetName = inflector.camelize(\"dx-\" + widgetName);\r\n            errors.log(\"W0001\", \"dxToolbar - 'widget' item field\", deprecatedName, \"16.1\", \"Use: '\" + widgetName + \"' instead\")\r\n        }\r\n        if (options.parent) {\r\n            options.parent._createComponent(widgetElement, widgetName, widgetOptions)\r\n        } else {\r\n            widgetElement[widgetName](widgetOptions)\r\n        }\r\n        return widgetElement\r\n    }\r\n    return $()\r\n});\r\nvar Widget = DOMComponent.inherit({\r\n    _supportedKeys: function() {\r\n        return {}\r\n    },\r\n    _getDefaultOptions: function() {\r\n        return extend(this.callBase(), {\r\n            disabled: false,\r\n            visible: true,\r\n            hint: void 0,\r\n            activeStateEnabled: false,\r\n            onContentReady: null,\r\n            hoverStateEnabled: false,\r\n            focusStateEnabled: false,\r\n            tabIndex: 0,\r\n            accessKey: null,\r\n            onFocusIn: null,\r\n            onFocusOut: null,\r\n            integrationOptions: {\r\n                watchMethod: function(fn, callback, options) {\r\n                    options = options || {};\r\n                    if (!options.skipImmediate) {\r\n                        callback(fn())\r\n                    }\r\n                    return commonUtils.noop\r\n                },\r\n                templates: {\r\n                    \"dx-polymorph-widget\": DX_POLYMORPH_WIDGET_TEMPLATE\r\n                },\r\n                createTemplate: function(element) {\r\n                    return new Template(element)\r\n                }\r\n            },\r\n            _keyboardProcessor: void 0\r\n        })\r\n    },\r\n    _feedbackShowTimeout: FEEDBACK_SHOW_TIMEOUT,\r\n    _feedbackHideTimeout: FEEDBACK_HIDE_TIMEOUT,\r\n    _init: function() {\r\n        this.callBase();\r\n        this._tempTemplates = [];\r\n        this._defaultTemplates = {};\r\n        this._initTemplates();\r\n        this._initContentReadyAction()\r\n    },\r\n    _initTemplates: function() {\r\n        this._extractTemplates();\r\n        this._extractAnonymousTemplate()\r\n    },\r\n    _clearInnerOptionCache: function(optionContainer) {\r\n        this[optionContainer + \"Cache\"] = {}\r\n    },\r\n    _cacheInnerOptions: function(optionContainer, optionValue) {\r\n        var cacheName = optionContainer + \"Cache\";\r\n        this[cacheName] = extend(this[cacheName], optionValue)\r\n    },\r\n    _getInnerOptionsCache: function(optionContainer) {\r\n        return this[optionContainer + \"Cache\"]\r\n    },\r\n    _initInnerOptionCache: function(optionContainer) {\r\n        this._clearInnerOptionCache(optionContainer);\r\n        this._cacheInnerOptions(optionContainer, this.option(optionContainer))\r\n    },\r\n    _bindInnerWidgetOptions: function(innerWidget, optionsContainer) {\r\n        this._options[optionsContainer] = extend({}, innerWidget.option());\r\n        innerWidget.on(\"optionChanged\", function(e) {\r\n            this._options[optionsContainer] = extend({}, e.component.option())\r\n        }.bind(this))\r\n    },\r\n    _extractTemplates: function() {\r\n        var templateElements = this.$element().contents().filter(TEMPLATE_SELECTOR);\r\n        var templatesMap = {};\r\n        templateElements.each(function(_, template) {\r\n            var templateOptions = domUtils.getElementOptions(template).dxTemplate;\r\n            if (!templateOptions) {\r\n                return\r\n            }\r\n            if (!templateOptions.name) {\r\n                throw errors.Error(\"E0023\")\r\n            }\r\n            $(template).addClass(TEMPLATE_WRAPPER_CLASS).detach();\r\n            templatesMap[templateOptions.name] = templatesMap[templateOptions.name] || [];\r\n            templatesMap[templateOptions.name].push(template)\r\n        });\r\n        each(templatesMap, function(templateName, value) {\r\n            var deviceTemplate = this._findTemplateByDevice(value);\r\n            if (deviceTemplate) {\r\n                this._saveTemplate(templateName, deviceTemplate)\r\n            }\r\n        }.bind(this))\r\n    },\r\n    _saveTemplate: function(name, template) {\r\n        var templates = this.option(\"integrationOptions.templates\");\r\n        templates[name] = this._createTemplate(template)\r\n    },\r\n    _findTemplateByDevice: function(templates) {\r\n        var suitableTemplate = commonUtils.findBestMatches(devices.current(), templates, function(template) {\r\n            return domUtils.getElementOptions(template).dxTemplate\r\n        })[0];\r\n        each(templates, function(index, template) {\r\n            if (template !== suitableTemplate) {\r\n                $(template).remove()\r\n            }\r\n        });\r\n        return suitableTemplate\r\n    },\r\n    _extractAnonymousTemplate: function() {\r\n        var templates = this.option(\"integrationOptions.templates\"),\r\n            anonymousTemplateName = this._getAnonymousTemplateName(),\r\n            $anonymousTemplate = this.$element().contents().detach();\r\n        var $notJunkTemplateContent = $anonymousTemplate.filter(function(_, element) {\r\n                var isTextNode = element.nodeType === TEXT_NODE,\r\n                    isEmptyText = $(element).text().trim().length < 1;\r\n                return !(isTextNode && isEmptyText)\r\n            }),\r\n            onlyJunkTemplateContent = $notJunkTemplateContent.length < 1;\r\n        if (!templates[anonymousTemplateName] && !onlyJunkTemplateContent) {\r\n            templates[anonymousTemplateName] = this._createTemplate($anonymousTemplate)\r\n        }\r\n    },\r\n    _getAriaTarget: function() {\r\n        return this._focusTarget()\r\n    },\r\n    _getAnonymousTemplateName: function() {\r\n        return ANONYMOUS_TEMPLATE_NAME\r\n    },\r\n    _getTemplateByOption: function(optionName) {\r\n        return this._getTemplate(this.option(optionName))\r\n    },\r\n    _getTemplate: function(templateSource) {\r\n        if (typeUtils.isFunction(templateSource)) {\r\n            return new FunctionTemplate(function(options) {\r\n                var templateSourceResult = templateSource.apply(this, this._getNormalizedTemplateArgs(options));\r\n                if (!typeUtils.isDefined(templateSourceResult)) {\r\n                    return new EmptyTemplate\r\n                }\r\n                var dispose = false;\r\n                var template = this._acquireTemplate(templateSourceResult, function(templateSource) {\r\n                    if (templateSource.nodeType || typeUtils.isRenderer(templateSource) && !$(templateSource).is(\"script\")) {\r\n                        return new FunctionTemplate(function() {\r\n                            return templateSource\r\n                        })\r\n                    }\r\n                    dispose = true;\r\n                    return this._createTemplate(templateSource)\r\n                }.bind(this));\r\n                var result = template.render(options);\r\n                dispose && template.dispose && template.dispose();\r\n                return result\r\n            }.bind(this))\r\n        }\r\n        return this._acquireTemplate(templateSource, this._createTemplateIfNeeded.bind(this))\r\n    },\r\n    _acquireTemplate: function(templateSource, createTemplate) {\r\n        if (null == templateSource) {\r\n            return new EmptyTemplate\r\n        }\r\n        if (templateSource instanceof ChildDefaultTemplate) {\r\n            return this._defaultTemplates[templateSource.name]\r\n        }\r\n        if (templateSource instanceof TemplateBase) {\r\n            return templateSource\r\n        }\r\n        if (typeUtils.isFunction(templateSource.render) && !typeUtils.isRenderer(templateSource)) {\r\n            return this._addOneRenderedCall(templateSource)\r\n        }\r\n        if (templateSource.nodeType || typeUtils.isRenderer(templateSource)) {\r\n            return createTemplate($(templateSource))\r\n        }\r\n        if (\"string\" === typeof templateSource) {\r\n            return this._renderIntegrationTemplate(templateSource) || this._defaultTemplates[templateSource] || createTemplate(templateSource)\r\n        }\r\n        return this._acquireTemplate(templateSource.toString(), createTemplate)\r\n    },\r\n    _addOneRenderedCall: function(template) {\r\n        var _render = template.render.bind(template);\r\n        return extend({}, template, {\r\n            render: function(options) {\r\n                var templateResult = _render(options);\r\n                options && options.onRendered && options.onRendered();\r\n                return templateResult\r\n            }\r\n        })\r\n    },\r\n    _renderIntegrationTemplate: function(templateSource) {\r\n        var integrationTemplate = this.option(\"integrationOptions.templates\")[templateSource];\r\n        if (integrationTemplate && !(integrationTemplate instanceof TemplateBase)) {\r\n            var isAsyncTemplate = this.option(\"templatesRenderAsynchronously\");\r\n            if (!isAsyncTemplate) {\r\n                return this._addOneRenderedCall(integrationTemplate)\r\n            }\r\n        }\r\n        return integrationTemplate\r\n    },\r\n    _createTemplateIfNeeded: function(templateSource) {\r\n        var templateKey = function(templateSource) {\r\n            return typeUtils.isRenderer(templateSource) && templateSource[0] || templateSource\r\n        };\r\n        var cachedTemplate = this._tempTemplates.filter(function(t) {\r\n            templateSource = templateKey(templateSource);\r\n            return t.source === templateSource\r\n        })[0];\r\n        if (cachedTemplate) {\r\n            return cachedTemplate.template\r\n        }\r\n        var template = this._createTemplate(templateSource);\r\n        this._tempTemplates.push({\r\n            template: template,\r\n            source: templateKey(templateSource)\r\n        });\r\n        return template\r\n    },\r\n    _createTemplate: function(templateSource) {\r\n        templateSource = \"string\" === typeof templateSource ? domUtils.normalizeTemplateElement(templateSource) : templateSource;\r\n        return this.option(\"integrationOptions.createTemplate\")(templateSource)\r\n    },\r\n    _getNormalizedTemplateArgs: function(options) {\r\n        var args = [];\r\n        if (\"model\" in options) {\r\n            args.push(options.model)\r\n        }\r\n        if (\"index\" in options) {\r\n            args.push(options.index)\r\n        }\r\n        args.push(options.container);\r\n        return args\r\n    },\r\n    _cleanTemplates: function() {\r\n        this._tempTemplates.forEach(function(t) {\r\n            t.template.dispose && t.template.dispose()\r\n        });\r\n        this._tempTemplates = []\r\n    },\r\n    _initContentReadyAction: function() {\r\n        this._contentReadyAction = this._createActionByOption(\"onContentReady\", {\r\n            excludeValidators: [\"designMode\", \"disabled\", \"readOnly\"]\r\n        })\r\n    },\r\n    _initMarkup: function() {\r\n        this.$element().addClass(WIDGET_CLASS);\r\n        this._toggleDisabledState(this.option(\"disabled\"));\r\n        this._toggleVisibility(this.option(\"visible\"));\r\n        this._renderHint();\r\n        if (this._isFocusable()) {\r\n            this._renderFocusTarget()\r\n        }\r\n        this.callBase()\r\n    },\r\n    _render: function() {\r\n        this.callBase();\r\n        this._renderContent();\r\n        this._renderFocusState();\r\n        this._attachFeedbackEvents();\r\n        this._attachHoverEvents()\r\n    },\r\n    _renderHint: function() {\r\n        domUtils.toggleAttr(this.$element(), \"title\", this.option(\"hint\"))\r\n    },\r\n    _renderContent: function() {\r\n        var _this = this;\r\n        commonUtils.deferRender(function() {\r\n            if (_this._disposed) {\r\n                return\r\n            }\r\n            return _this._renderContentImpl()\r\n        }).done(function() {\r\n            if (_this._disposed) {\r\n                return\r\n            }\r\n            _this._fireContentReadyAction()\r\n        })\r\n    },\r\n    _renderContentImpl: commonUtils.noop,\r\n    _fireContentReadyAction: commonUtils.deferRenderer(function() {\r\n        this._contentReadyAction()\r\n    }),\r\n    _dispose: function() {\r\n        this._cleanTemplates();\r\n        this._contentReadyAction = null;\r\n        this.callBase()\r\n    },\r\n    _resetActiveState: function() {\r\n        this._toggleActiveState(this._eventBindingTarget(), false)\r\n    },\r\n    _clean: function() {\r\n        this._cleanFocusState();\r\n        this._resetActiveState();\r\n        this.callBase();\r\n        this.$element().empty()\r\n    },\r\n    _toggleVisibility: function(visible) {\r\n        this.$element().toggleClass(INVISIBLE_STATE_CLASS, !visible);\r\n        this.setAria(\"hidden\", !visible || void 0)\r\n    },\r\n    _renderFocusState: function() {\r\n        this._attachKeyboardEvents();\r\n        if (!this._isFocusable()) {\r\n            return\r\n        }\r\n        this._renderFocusTarget();\r\n        this._attachFocusEvents();\r\n        this._renderAccessKey()\r\n    },\r\n    _renderAccessKey: function() {\r\n        var focusTarget = this._focusTarget();\r\n        focusTarget.attr(\"accesskey\", this.option(\"accessKey\"));\r\n        var clickNamespace = eventUtils.addNamespace(clickEvent.name, UI_FEEDBACK);\r\n        eventsEngine.off(focusTarget, clickNamespace);\r\n        this.option(\"accessKey\") && eventsEngine.on(focusTarget, clickNamespace, function(e) {\r\n            if (eventUtils.isFakeClickEvent(e)) {\r\n                e.stopImmediatePropagation();\r\n                this.focus()\r\n            }\r\n        }.bind(this))\r\n    },\r\n    _isFocusable: function() {\r\n        return this.option(\"focusStateEnabled\") && !this.option(\"disabled\")\r\n    },\r\n    _eventBindingTarget: function() {\r\n        return this.$element()\r\n    },\r\n    _focusTarget: function() {\r\n        return this._getActiveElement()\r\n    },\r\n    _getActiveElement: function() {\r\n        var activeElement = this._eventBindingTarget();\r\n        if (this._activeStateUnit) {\r\n            activeElement = activeElement.find(this._activeStateUnit).not(\".\" + DISABLED_STATE_CLASS)\r\n        }\r\n        return activeElement\r\n    },\r\n    _renderFocusTarget: function() {\r\n        this._focusTarget().attr(\"tabIndex\", this.option(\"tabIndex\"))\r\n    },\r\n    _keyboardEventBindingTarget: function() {\r\n        return this._eventBindingTarget()\r\n    },\r\n    _detachFocusEvents: function() {\r\n        var $element = this._focusTarget(),\r\n            namespace = this.NAME + FOCUS_NAMESPACE,\r\n            focusEvents = eventUtils.addNamespace(\"focusin\", namespace);\r\n        focusEvents = focusEvents + \" \" + eventUtils.addNamespace(\"focusout\", namespace);\r\n        if (domAdapter.hasDocumentProperty(\"onbeforeactivate\")) {\r\n            focusEvents = focusEvents + \" \" + eventUtils.addNamespace(\"beforeactivate\", namespace)\r\n        }\r\n        eventsEngine.off($element, focusEvents)\r\n    },\r\n    _attachFocusEvents: function() {\r\n        var namespace = this.NAME + FOCUS_NAMESPACE,\r\n            focusInEvent = eventUtils.addNamespace(\"focusin\", namespace),\r\n            focusOutEvent = eventUtils.addNamespace(\"focusout\", namespace);\r\n        var $focusTarget = this._focusTarget();\r\n        eventsEngine.on($focusTarget, focusInEvent, this._focusInHandler.bind(this));\r\n        eventsEngine.on($focusTarget, focusOutEvent, this._focusOutHandler.bind(this));\r\n        if (domAdapter.hasDocumentProperty(\"onbeforeactivate\")) {\r\n            var beforeActivateEvent = eventUtils.addNamespace(\"beforeactivate\", namespace);\r\n            eventsEngine.on(this._focusTarget(), beforeActivateEvent, function(e) {\r\n                if (!$(e.target).is(selectors.focusable)) {\r\n                    e.preventDefault()\r\n                }\r\n            })\r\n        }\r\n    },\r\n    _refreshFocusEvent: function() {\r\n        this._detachFocusEvents();\r\n        this._attachFocusEvents()\r\n    },\r\n    _focusInHandler: function(e) {\r\n        var that = this;\r\n        that._createActionByOption(\"onFocusIn\", {\r\n            beforeExecute: function() {\r\n                that._updateFocusState(e, true)\r\n            },\r\n            excludeValidators: [\"readOnly\"]\r\n        })({\r\n            event: e\r\n        })\r\n    },\r\n    _focusOutHandler: function(e) {\r\n        var that = this;\r\n        that._createActionByOption(\"onFocusOut\", {\r\n            beforeExecute: function() {\r\n                that._updateFocusState(e, false)\r\n            },\r\n            excludeValidators: [\"readOnly\", \"disabled\"]\r\n        })({\r\n            event: e\r\n        })\r\n    },\r\n    _updateFocusState: function(e, isFocused) {\r\n        var target = e.target;\r\n        if (inArray(target, this._focusTarget()) !== -1) {\r\n            this._toggleFocusClass(isFocused, $(target))\r\n        }\r\n    },\r\n    _toggleFocusClass: function(isFocused, $element) {\r\n        var $focusTarget = $element && $element.length ? $element : this._focusTarget();\r\n        $focusTarget.toggleClass(FOCUSED_STATE_CLASS, isFocused)\r\n    },\r\n    _hasFocusClass: function(element) {\r\n        var $focusTarget = $(element || this._focusTarget());\r\n        return $focusTarget.hasClass(FOCUSED_STATE_CLASS)\r\n    },\r\n    _isFocused: function() {\r\n        return this._hasFocusClass()\r\n    },\r\n    _attachKeyboardEvents: function() {\r\n        var processor = this.option(\"_keyboardProcessor\");\r\n        if (processor) {\r\n            this._keyboardProcessor = processor.reinitialize(this._keyboardHandler, this)\r\n        } else {\r\n            if (this.option(\"focusStateEnabled\")) {\r\n                this._disposeKeyboardProcessor();\r\n                this._keyboardProcessor = new KeyboardProcessor({\r\n                    element: this._keyboardEventBindingTarget(),\r\n                    handler: this._keyboardHandler,\r\n                    focusTarget: this._focusTarget(),\r\n                    context: this\r\n                })\r\n            }\r\n        }\r\n    },\r\n    _keyboardHandler: function(options) {\r\n        var e = options.originalEvent;\r\n        var keyName = options.keyName;\r\n        var keyCode = options.which;\r\n        var keys = this._supportedKeys(e),\r\n            func = keys[keyName] || keys[keyCode];\r\n        if (void 0 !== func) {\r\n            var handler = func.bind(this);\r\n            return handler(e) || false\r\n        } else {\r\n            return true\r\n        }\r\n    },\r\n    _refreshFocusState: function() {\r\n        this._cleanFocusState();\r\n        this._renderFocusState()\r\n    },\r\n    _cleanFocusState: function() {\r\n        var $element = this._focusTarget();\r\n        this._detachFocusEvents();\r\n        this._toggleFocusClass(false);\r\n        $element.removeAttr(\"tabIndex\");\r\n        this._disposeKeyboardProcessor()\r\n    },\r\n    _disposeKeyboardProcessor: function() {\r\n        if (this._keyboardProcessor) {\r\n            this._keyboardProcessor.dispose();\r\n            delete this._keyboardProcessor\r\n        }\r\n    },\r\n    _attachHoverEvents: function() {\r\n        var that = this,\r\n            hoverableSelector = that._activeStateUnit,\r\n            nameStart = eventUtils.addNamespace(hoverEvents.start, UI_FEEDBACK),\r\n            nameEnd = eventUtils.addNamespace(hoverEvents.end, UI_FEEDBACK);\r\n        eventsEngine.off(that._eventBindingTarget(), nameStart, hoverableSelector);\r\n        eventsEngine.off(that._eventBindingTarget(), nameEnd, hoverableSelector);\r\n        if (that.option(\"hoverStateEnabled\")) {\r\n            var startAction = new Action(function(args) {\r\n                that._hoverStartHandler(args.event);\r\n                that._refreshHoveredElement($(args.element))\r\n            }, {\r\n                excludeValidators: [\"readOnly\"]\r\n            });\r\n            var $eventBindingTarget = that._eventBindingTarget();\r\n            eventsEngine.on($eventBindingTarget, nameStart, hoverableSelector, function(e) {\r\n                startAction.execute({\r\n                    element: $(e.target),\r\n                    event: e\r\n                })\r\n            });\r\n            eventsEngine.on($eventBindingTarget, nameEnd, hoverableSelector, function(e) {\r\n                that._hoverEndHandler(e);\r\n                that._forgetHoveredElement()\r\n            })\r\n        } else {\r\n            that._toggleHoverClass(false)\r\n        }\r\n    },\r\n    _hoverStartHandler: commonUtils.noop,\r\n    _hoverEndHandler: commonUtils.noop,\r\n    _attachFeedbackEvents: function() {\r\n        var feedbackAction, feedbackActionDisabled, that = this,\r\n            feedbackSelector = that._activeStateUnit,\r\n            activeEventName = eventUtils.addNamespace(feedbackEvents.active, UI_FEEDBACK),\r\n            inactiveEventName = eventUtils.addNamespace(feedbackEvents.inactive, UI_FEEDBACK);\r\n        eventsEngine.off(that._eventBindingTarget(), activeEventName, feedbackSelector);\r\n        eventsEngine.off(that._eventBindingTarget(), inactiveEventName, feedbackSelector);\r\n        if (that.option(\"activeStateEnabled\")) {\r\n            var feedbackActionHandler = function(args) {\r\n                var $element = $(args.element),\r\n                    value = args.value,\r\n                    dxEvent = args.event;\r\n                that._toggleActiveState($element, value, dxEvent)\r\n            };\r\n            eventsEngine.on(that._eventBindingTarget(), activeEventName, feedbackSelector, {\r\n                timeout: that._feedbackShowTimeout\r\n            }, function(e) {\r\n                feedbackAction = feedbackAction || new Action(feedbackActionHandler);\r\n                feedbackAction.execute({\r\n                    element: $(e.currentTarget),\r\n                    value: true,\r\n                    event: e\r\n                })\r\n            });\r\n            eventsEngine.on(that._eventBindingTarget(), inactiveEventName, feedbackSelector, {\r\n                timeout: that._feedbackHideTimeout\r\n            }, function(e) {\r\n                feedbackActionDisabled = feedbackActionDisabled || new Action(feedbackActionHandler, {\r\n                    excludeValidators: [\"disabled\", \"readOnly\"]\r\n                });\r\n                feedbackActionDisabled.execute({\r\n                    element: $(e.currentTarget),\r\n                    value: false,\r\n                    event: e\r\n                })\r\n            })\r\n        }\r\n    },\r\n    _toggleActiveState: function($element, value) {\r\n        this._toggleHoverClass(!value);\r\n        $element.toggleClass(ACTIVE_STATE_CLASS, value)\r\n    },\r\n    _refreshHoveredElement: function(hoveredElement) {\r\n        var selector = this._activeStateUnit || this._eventBindingTarget();\r\n        this._forgetHoveredElement();\r\n        this._hoveredElement = hoveredElement.closest(selector);\r\n        this._toggleHoverClass(true)\r\n    },\r\n    _forgetHoveredElement: function() {\r\n        this._toggleHoverClass(false);\r\n        delete this._hoveredElement\r\n    },\r\n    _toggleHoverClass: function(value) {\r\n        if (this._hoveredElement) {\r\n            this._hoveredElement.toggleClass(HOVER_STATE_CLASS, value && this.option(\"hoverStateEnabled\"))\r\n        }\r\n    },\r\n    _toggleDisabledState: function(value) {\r\n        this.$element().toggleClass(DISABLED_STATE_CLASS, Boolean(value));\r\n        this._toggleHoverClass(!value);\r\n        this.setAria(\"disabled\", value || void 0)\r\n    },\r\n    _setWidgetOption: function(widgetName, args) {\r\n        if (!this[widgetName]) {\r\n            return\r\n        }\r\n        if (typeUtils.isPlainObject(args[0])) {\r\n            each(args[0], function(option, value) {\r\n                this._setWidgetOption(widgetName, [option, value])\r\n            }.bind(this));\r\n            return\r\n        }\r\n        var optionName = args[0];\r\n        var value = args[1];\r\n        if (1 === args.length) {\r\n            value = this.option(optionName)\r\n        }\r\n        var widgetOptionMap = this[widgetName + \"OptionMap\"];\r\n        this[widgetName].option(widgetOptionMap ? widgetOptionMap(optionName) : optionName, value)\r\n    },\r\n    _optionChanged: function(args) {\r\n        switch (args.name) {\r\n            case \"disabled\":\r\n                this._toggleDisabledState(args.value);\r\n                this._refreshFocusState();\r\n                break;\r\n            case \"hint\":\r\n                this._renderHint();\r\n                break;\r\n            case \"activeStateEnabled\":\r\n                this._attachFeedbackEvents();\r\n                break;\r\n            case \"hoverStateEnabled\":\r\n                this._attachHoverEvents();\r\n                break;\r\n            case \"tabIndex\":\r\n            case \"_keyboardProcessor\":\r\n            case \"focusStateEnabled\":\r\n                this._refreshFocusState();\r\n                break;\r\n            case \"onFocusIn\":\r\n            case \"onFocusOut\":\r\n                break;\r\n            case \"accessKey\":\r\n                this._renderAccessKey();\r\n                break;\r\n            case \"visible\":\r\n                var visible = args.value;\r\n                this._toggleVisibility(visible);\r\n                if (this._isVisibilityChangeSupported()) {\r\n                    this._checkVisibilityChanged(args.value ? \"shown\" : \"hiding\")\r\n                }\r\n                break;\r\n            case \"onContentReady\":\r\n                this._initContentReadyAction();\r\n                break;\r\n            default:\r\n                this.callBase(args)\r\n        }\r\n    },\r\n    _isVisible: function() {\r\n        return this.callBase() && this.option(\"visible\")\r\n    },\r\n    beginUpdate: function() {\r\n        this._ready(false);\r\n        this.callBase()\r\n    },\r\n    endUpdate: function() {\r\n        this.callBase();\r\n        if (this._initialized) {\r\n            this._ready(true)\r\n        }\r\n    },\r\n    _ready: function(value) {\r\n        if (0 === arguments.length) {\r\n            return this._isReady\r\n        }\r\n        this._isReady = value\r\n    },\r\n    setAria: function() {\r\n        var setAttribute = function(option) {\r\n            var attrName = \"role\" === option.name || \"id\" === option.name ? option.name : \"aria-\" + option.name,\r\n                attrValue = option.value;\r\n            if (null === attrValue || void 0 === attrValue) {\r\n                attrValue = void 0\r\n            } else {\r\n                attrValue = attrValue.toString()\r\n            }\r\n            domUtils.toggleAttr(option.target, attrName, attrValue)\r\n        };\r\n        if (!typeUtils.isPlainObject(arguments[0])) {\r\n            setAttribute({\r\n                name: arguments[0],\r\n                value: arguments[1],\r\n                target: arguments[2] || this._getAriaTarget()\r\n            })\r\n        } else {\r\n            var $target = arguments[1] || this._getAriaTarget();\r\n            each(arguments[0], function(key, value) {\r\n                setAttribute({\r\n                    name: key,\r\n                    value: value,\r\n                    target: $target\r\n                })\r\n            })\r\n        }\r\n    },\r\n    isReady: function() {\r\n        return this._ready()\r\n    },\r\n    repaint: function() {\r\n        this._refresh()\r\n    },\r\n    focus: function() {\r\n        eventsEngine.trigger(this._focusTarget(), \"focus\")\r\n    },\r\n    registerKeyHandler: function(key, handler) {\r\n        var currentKeys = this._supportedKeys(),\r\n            addingKeys = {};\r\n        addingKeys[key] = handler;\r\n        this._supportedKeys = function() {\r\n            return extend(currentKeys, addingKeys)\r\n        }\r\n    }\r\n});\r\nmodule.exports = Widget;\r\n"]},"metadata":{},"sourceType":"script"}