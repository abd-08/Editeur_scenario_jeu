{"ast":null,"code":"/**\r\n * DevExtreme (core/utils/common.js)\r\n * Version: 18.2.13\r\n * Build date: Wed May 27 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nvar _typeof = \"function\" === typeof Symbol && \"symbol\" === typeof Symbol.iterator ? function (obj) {\n  return typeof obj;\n} : function (obj) {\n  return obj && \"function\" === typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n};\n\nvar _config = require(\"../config\");\n\nvar _config2 = _interopRequireDefault(_config);\n\nvar _guid = require(\"../guid\");\n\nvar _guid2 = _interopRequireDefault(_guid);\n\nvar _deferred = require(\"../utils/deferred\");\n\nvar _iterator = require(\"./iterator\");\n\nvar _data = require(\"./data\");\n\nvar _type = require(\"./type\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nvar ensureDefined = function (value, defaultValue) {\n  return (0, _type.isDefined)(value) ? value : defaultValue;\n};\n\nvar executeAsync = function (action, context) {\n  var deferred = new _deferred.Deferred();\n  var normalizedContext = context || this;\n  var timerId = void 0;\n  var task = {\n    promise: deferred.promise(),\n    abort: function () {\n      clearTimeout(timerId);\n      deferred.rejectWith(normalizedContext);\n    }\n  };\n\n  var callback = function () {\n    var result = action.call(normalizedContext);\n\n    if (result && result.done && (0, _type.isFunction)(result.done)) {\n      result.done(function () {\n        deferred.resolveWith(normalizedContext);\n      });\n    } else {\n      deferred.resolveWith(normalizedContext);\n    }\n  };\n\n  timerId = (arguments[2] || setTimeout)(callback, \"number\" === typeof context ? context : 0);\n  return task;\n};\n\nvar delayedFuncs = [];\nvar delayedNames = [];\nvar delayedDeferreds = [];\nvar executingName = void 0;\n\nvar deferExecute = function (name, func, deferred) {\n  if (executingName && executingName !== name) {\n    delayedFuncs.push(func);\n    delayedNames.push(name);\n    deferred = deferred || new _deferred.Deferred();\n    delayedDeferreds.push(deferred);\n    return deferred;\n  } else {\n    var oldExecutingName = executingName;\n    var currentDelayedCount = delayedDeferreds.length;\n    executingName = name;\n    var result = func();\n\n    if (!result) {\n      if (delayedDeferreds.length > currentDelayedCount) {\n        result = _deferred.when.apply(this, delayedDeferreds.slice(currentDelayedCount));\n      } else {\n        if (deferred) {\n          deferred.resolve();\n        }\n      }\n    }\n\n    executingName = oldExecutingName;\n\n    if (deferred && result && result.done) {\n      result.done(deferred.resolve).fail(deferred.reject);\n    }\n\n    if (!executingName && delayedFuncs.length) {\n      (\"render\" === delayedNames.shift() ? deferRender : deferUpdate)(delayedFuncs.shift(), delayedDeferreds.shift());\n    }\n\n    return result || (0, _deferred.when)();\n  }\n};\n\nvar deferRender = function (func, deferred) {\n  return deferExecute(\"render\", func, deferred);\n};\n\nvar deferUpdate = function (func, deferred) {\n  return deferExecute(\"update\", func, deferred);\n};\n\nvar deferRenderer = function (func) {\n  return function () {\n    var that = this;\n    return deferExecute(\"render\", function () {\n      return func.call(that);\n    });\n  };\n};\n\nvar deferUpdater = function (func) {\n  return function () {\n    var that = this;\n    return deferExecute(\"update\", function () {\n      return func.call(that);\n    });\n  };\n};\n\nvar findBestMatches = function (targetFilter, items, mapFn) {\n  var bestMatches = [];\n  var maxMatchCount = 0;\n  (0, _iterator.each)(items, function (index, itemSrc) {\n    var matchCount = 0;\n    var item = mapFn ? mapFn(itemSrc) : itemSrc;\n    (0, _iterator.each)(targetFilter, function (paramName, targetValue) {\n      var value = item[paramName];\n\n      if (void 0 === value) {\n        return;\n      }\n\n      if (match(value, targetValue)) {\n        matchCount++;\n        return;\n      }\n\n      matchCount = -1;\n      return false;\n    });\n\n    if (matchCount < maxMatchCount) {\n      return;\n    }\n\n    if (matchCount > maxMatchCount) {\n      bestMatches.length = 0;\n      maxMatchCount = matchCount;\n    }\n\n    bestMatches.push(itemSrc);\n  });\n  return bestMatches;\n};\n\nvar match = function (value, targetValue) {\n  if (Array.isArray(value) && Array.isArray(targetValue)) {\n    var mismatch = false;\n    (0, _iterator.each)(value, function (index, valueItem) {\n      if (valueItem !== targetValue[index]) {\n        mismatch = true;\n        return false;\n      }\n    });\n\n    if (mismatch) {\n      return false;\n    }\n\n    return true;\n  }\n\n  if (value === targetValue) {\n    return true;\n  }\n\n  return false;\n};\n\nvar splitPair = function (raw) {\n  switch (\"undefined\" === typeof raw ? \"undefined\" : _typeof(raw)) {\n    case \"string\":\n      return raw.split(/\\s+/, 2);\n\n    case \"object\":\n      return [raw.x || raw.h, raw.y || raw.v];\n\n    case \"number\":\n      return [raw];\n\n    default:\n      return raw;\n  }\n};\n\nvar normalizeKey = function (id) {\n  var key = (0, _type.isString)(id) ? id : id.toString();\n  var arr = key.match(/[^a-zA-Z0-9_]/g);\n  arr && (0, _iterator.each)(arr, function (_, sign) {\n    key = key.replace(sign, \"__\" + sign.charCodeAt() + \"__\");\n  });\n  return key;\n};\n\nvar denormalizeKey = function (key) {\n  var arr = key.match(/__\\d+__/g);\n  arr && arr.forEach(function (char) {\n    var charCode = parseInt(char.replace(\"__\", \"\"));\n    key = key.replace(char, String.fromCharCode(charCode));\n  });\n  return key;\n};\n\nvar isArraysEqualByValue = function (array1, array2, deep) {\n  if (array1.length !== array2.length) {\n    return false;\n  }\n\n  for (var i = 0; i < array1.length; i++) {\n    if (!equalByValue(array1[i], array2[i], deep + 1)) {\n      return false;\n    }\n  }\n\n  return true;\n};\n\nvar isObjectsEqualByValue = function (object1, object2, deep) {\n  for (var propertyName in object1) {\n    if (object1.hasOwnProperty(propertyName) && !equalByValue(object1[propertyName], object2[propertyName], deep + 1)) {\n      return false;\n    }\n  }\n\n  for (var _propertyName in object2) {\n    if (!(_propertyName in object1)) {\n      return false;\n    }\n  }\n\n  return true;\n};\n\nvar pairToObject = function (raw, preventRound) {\n  var pair = splitPair(raw);\n  var h = preventRound ? parseFloat(pair && pair[0]) : parseInt(pair && pair[0], 10);\n  var v = preventRound ? parseFloat(pair && pair[1]) : parseInt(pair && pair[1], 10);\n\n  if (!isFinite(h)) {\n    h = 0;\n  }\n\n  if (!isFinite(v)) {\n    v = h;\n  }\n\n  return {\n    h: h,\n    v: v\n  };\n};\n\nvar maxEqualityDeep = 3;\n\nvar equalByValue = function (object1, object2, deep) {\n  deep = deep || 0;\n  object1 = (0, _data.toComparable)(object1, true);\n  object2 = (0, _data.toComparable)(object2, true);\n\n  if (object1 === object2 || deep >= maxEqualityDeep) {\n    return true;\n  }\n\n  if ((0, _type.isObject)(object1) && (0, _type.isObject)(object2)) {\n    return isObjectsEqualByValue(object1, object2, deep);\n  } else {\n    if (Array.isArray(object1) && Array.isArray(object2)) {\n      return isArraysEqualByValue(object1, object2, deep);\n    }\n  }\n\n  return false;\n};\n\nvar getKeyHash = function (key) {\n  if (key instanceof _guid2.default) {\n    return key.toString();\n  } else {\n    if ((0, _type.isObject)(key) || Array.isArray(key)) {\n      try {\n        var keyHash = JSON.stringify(key);\n        return \"{}\" === keyHash ? key : keyHash;\n      } catch (e) {\n        return key;\n      }\n    }\n  }\n\n  return key;\n};\n\nvar escapeRegExp = function (string) {\n  return string.replace(/[[\\]{}\\-()*+?.\\\\^$|\\s]/g, \"\\\\$&\");\n};\n\nvar applyServerDecimalSeparator = function (value) {\n  var separator = (0, _config2.default)().serverDecimalSeparator;\n\n  if ((0, _type.isDefined)(value)) {\n    value = value.toString().replace(\".\", separator);\n  }\n\n  return value;\n};\n\nvar noop = function () {};\n\nvar asyncNoop = function () {\n  return new _deferred.Deferred().resolve().promise();\n};\n\nvar grep = function (elements, checkFunction, invert) {\n  var result = [];\n  var check = void 0;\n  var expectedCheck = !invert;\n\n  for (var i = 0; i < elements.length; i++) {\n    check = !!checkFunction(elements[i], i);\n\n    if (check === expectedCheck) {\n      result.push(elements[i]);\n    }\n  }\n\n  return result;\n};\n\nexports.ensureDefined = ensureDefined;\nexports.executeAsync = executeAsync;\nexports.deferRender = deferRender;\nexports.deferRenderer = deferRenderer;\nexports.deferUpdate = deferUpdate;\nexports.deferUpdater = deferUpdater;\nexports.pairToObject = pairToObject;\nexports.splitPair = splitPair;\nexports.findBestMatches = findBestMatches;\nexports.normalizeKey = normalizeKey;\nexports.denormalizeKey = denormalizeKey;\nexports.equalByValue = equalByValue;\nexports.getKeyHash = getKeyHash;\nexports.escapeRegExp = escapeRegExp;\nexports.applyServerDecimalSeparator = applyServerDecimalSeparator;\nexports.noop = noop;\nexports.asyncNoop = asyncNoop;\nexports.grep = grep;","map":{"version":3,"sources":["C:/Users/abdel/PhpstormProjects/editeur_scenario_jeu/node_modules/devextreme/core/utils/common.js"],"names":["_typeof","Symbol","iterator","obj","constructor","prototype","_config","require","_config2","_interopRequireDefault","_guid","_guid2","_deferred","_iterator","_data","_type","__esModule","ensureDefined","value","defaultValue","isDefined","executeAsync","action","context","deferred","Deferred","normalizedContext","timerId","task","promise","abort","clearTimeout","rejectWith","callback","result","call","done","isFunction","resolveWith","arguments","setTimeout","delayedFuncs","delayedNames","delayedDeferreds","executingName","deferExecute","name","func","push","oldExecutingName","currentDelayedCount","length","when","apply","slice","resolve","fail","reject","shift","deferRender","deferUpdate","deferRenderer","that","deferUpdater","findBestMatches","targetFilter","items","mapFn","bestMatches","maxMatchCount","each","index","itemSrc","matchCount","item","paramName","targetValue","match","Array","isArray","mismatch","valueItem","splitPair","raw","split","x","h","y","v","normalizeKey","id","key","isString","toString","arr","_","sign","replace","charCodeAt","denormalizeKey","forEach","char","charCode","parseInt","String","fromCharCode","isArraysEqualByValue","array1","array2","deep","i","equalByValue","isObjectsEqualByValue","object1","object2","propertyName","hasOwnProperty","_propertyName","pairToObject","preventRound","pair","parseFloat","isFinite","maxEqualityDeep","toComparable","isObject","getKeyHash","default","keyHash","JSON","stringify","e","escapeRegExp","string","applyServerDecimalSeparator","separator","serverDecimalSeparator","noop","asyncNoop","grep","elements","checkFunction","invert","check","expectedCheck","exports"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (core/utils/common.js)\r\n * Version: 18.2.13\r\n * Build date: Wed May 27 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nvar _typeof = \"function\" === typeof Symbol && \"symbol\" === typeof Symbol.iterator ? function(obj) {\r\n    return typeof obj\r\n} : function(obj) {\r\n    return obj && \"function\" === typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj\r\n};\r\nvar _config = require(\"../config\");\r\nvar _config2 = _interopRequireDefault(_config);\r\nvar _guid = require(\"../guid\");\r\nvar _guid2 = _interopRequireDefault(_guid);\r\nvar _deferred = require(\"../utils/deferred\");\r\nvar _iterator = require(\"./iterator\");\r\nvar _data = require(\"./data\");\r\nvar _type = require(\"./type\");\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\nvar ensureDefined = function(value, defaultValue) {\r\n    return (0, _type.isDefined)(value) ? value : defaultValue\r\n};\r\nvar executeAsync = function(action, context) {\r\n    var deferred = new _deferred.Deferred;\r\n    var normalizedContext = context || this;\r\n    var timerId = void 0;\r\n    var task = {\r\n        promise: deferred.promise(),\r\n        abort: function() {\r\n            clearTimeout(timerId);\r\n            deferred.rejectWith(normalizedContext)\r\n        }\r\n    };\r\n    var callback = function() {\r\n        var result = action.call(normalizedContext);\r\n        if (result && result.done && (0, _type.isFunction)(result.done)) {\r\n            result.done(function() {\r\n                deferred.resolveWith(normalizedContext)\r\n            })\r\n        } else {\r\n            deferred.resolveWith(normalizedContext)\r\n        }\r\n    };\r\n    timerId = (arguments[2] || setTimeout)(callback, \"number\" === typeof context ? context : 0);\r\n    return task\r\n};\r\nvar delayedFuncs = [];\r\nvar delayedNames = [];\r\nvar delayedDeferreds = [];\r\nvar executingName = void 0;\r\nvar deferExecute = function(name, func, deferred) {\r\n    if (executingName && executingName !== name) {\r\n        delayedFuncs.push(func);\r\n        delayedNames.push(name);\r\n        deferred = deferred || new _deferred.Deferred;\r\n        delayedDeferreds.push(deferred);\r\n        return deferred\r\n    } else {\r\n        var oldExecutingName = executingName;\r\n        var currentDelayedCount = delayedDeferreds.length;\r\n        executingName = name;\r\n        var result = func();\r\n        if (!result) {\r\n            if (delayedDeferreds.length > currentDelayedCount) {\r\n                result = _deferred.when.apply(this, delayedDeferreds.slice(currentDelayedCount))\r\n            } else {\r\n                if (deferred) {\r\n                    deferred.resolve()\r\n                }\r\n            }\r\n        }\r\n        executingName = oldExecutingName;\r\n        if (deferred && result && result.done) {\r\n            result.done(deferred.resolve).fail(deferred.reject)\r\n        }\r\n        if (!executingName && delayedFuncs.length) {\r\n            (\"render\" === delayedNames.shift() ? deferRender : deferUpdate)(delayedFuncs.shift(), delayedDeferreds.shift())\r\n        }\r\n        return result || (0, _deferred.when)()\r\n    }\r\n};\r\nvar deferRender = function(func, deferred) {\r\n    return deferExecute(\"render\", func, deferred)\r\n};\r\nvar deferUpdate = function(func, deferred) {\r\n    return deferExecute(\"update\", func, deferred)\r\n};\r\nvar deferRenderer = function(func) {\r\n    return function() {\r\n        var that = this;\r\n        return deferExecute(\"render\", function() {\r\n            return func.call(that)\r\n        })\r\n    }\r\n};\r\nvar deferUpdater = function(func) {\r\n    return function() {\r\n        var that = this;\r\n        return deferExecute(\"update\", function() {\r\n            return func.call(that)\r\n        })\r\n    }\r\n};\r\nvar findBestMatches = function(targetFilter, items, mapFn) {\r\n    var bestMatches = [];\r\n    var maxMatchCount = 0;\r\n    (0, _iterator.each)(items, function(index, itemSrc) {\r\n        var matchCount = 0;\r\n        var item = mapFn ? mapFn(itemSrc) : itemSrc;\r\n        (0, _iterator.each)(targetFilter, function(paramName, targetValue) {\r\n            var value = item[paramName];\r\n            if (void 0 === value) {\r\n                return\r\n            }\r\n            if (match(value, targetValue)) {\r\n                matchCount++;\r\n                return\r\n            }\r\n            matchCount = -1;\r\n            return false\r\n        });\r\n        if (matchCount < maxMatchCount) {\r\n            return\r\n        }\r\n        if (matchCount > maxMatchCount) {\r\n            bestMatches.length = 0;\r\n            maxMatchCount = matchCount\r\n        }\r\n        bestMatches.push(itemSrc)\r\n    });\r\n    return bestMatches\r\n};\r\nvar match = function(value, targetValue) {\r\n    if (Array.isArray(value) && Array.isArray(targetValue)) {\r\n        var mismatch = false;\r\n        (0, _iterator.each)(value, function(index, valueItem) {\r\n            if (valueItem !== targetValue[index]) {\r\n                mismatch = true;\r\n                return false\r\n            }\r\n        });\r\n        if (mismatch) {\r\n            return false\r\n        }\r\n        return true\r\n    }\r\n    if (value === targetValue) {\r\n        return true\r\n    }\r\n    return false\r\n};\r\nvar splitPair = function(raw) {\r\n    switch (\"undefined\" === typeof raw ? \"undefined\" : _typeof(raw)) {\r\n        case \"string\":\r\n            return raw.split(/\\s+/, 2);\r\n        case \"object\":\r\n            return [raw.x || raw.h, raw.y || raw.v];\r\n        case \"number\":\r\n            return [raw];\r\n        default:\r\n            return raw\r\n    }\r\n};\r\nvar normalizeKey = function(id) {\r\n    var key = (0, _type.isString)(id) ? id : id.toString();\r\n    var arr = key.match(/[^a-zA-Z0-9_]/g);\r\n    arr && (0, _iterator.each)(arr, function(_, sign) {\r\n        key = key.replace(sign, \"__\" + sign.charCodeAt() + \"__\")\r\n    });\r\n    return key\r\n};\r\nvar denormalizeKey = function(key) {\r\n    var arr = key.match(/__\\d+__/g);\r\n    arr && arr.forEach(function(char) {\r\n        var charCode = parseInt(char.replace(\"__\", \"\"));\r\n        key = key.replace(char, String.fromCharCode(charCode))\r\n    });\r\n    return key\r\n};\r\nvar isArraysEqualByValue = function(array1, array2, deep) {\r\n    if (array1.length !== array2.length) {\r\n        return false\r\n    }\r\n    for (var i = 0; i < array1.length; i++) {\r\n        if (!equalByValue(array1[i], array2[i], deep + 1)) {\r\n            return false\r\n        }\r\n    }\r\n    return true\r\n};\r\nvar isObjectsEqualByValue = function(object1, object2, deep) {\r\n    for (var propertyName in object1) {\r\n        if (object1.hasOwnProperty(propertyName) && !equalByValue(object1[propertyName], object2[propertyName], deep + 1)) {\r\n            return false\r\n        }\r\n    }\r\n    for (var _propertyName in object2) {\r\n        if (!(_propertyName in object1)) {\r\n            return false\r\n        }\r\n    }\r\n    return true\r\n};\r\nvar pairToObject = function(raw, preventRound) {\r\n    var pair = splitPair(raw);\r\n    var h = preventRound ? parseFloat(pair && pair[0]) : parseInt(pair && pair[0], 10);\r\n    var v = preventRound ? parseFloat(pair && pair[1]) : parseInt(pair && pair[1], 10);\r\n    if (!isFinite(h)) {\r\n        h = 0\r\n    }\r\n    if (!isFinite(v)) {\r\n        v = h\r\n    }\r\n    return {\r\n        h: h,\r\n        v: v\r\n    }\r\n};\r\nvar maxEqualityDeep = 3;\r\nvar equalByValue = function(object1, object2, deep) {\r\n    deep = deep || 0;\r\n    object1 = (0, _data.toComparable)(object1, true);\r\n    object2 = (0, _data.toComparable)(object2, true);\r\n    if (object1 === object2 || deep >= maxEqualityDeep) {\r\n        return true\r\n    }\r\n    if ((0, _type.isObject)(object1) && (0, _type.isObject)(object2)) {\r\n        return isObjectsEqualByValue(object1, object2, deep)\r\n    } else {\r\n        if (Array.isArray(object1) && Array.isArray(object2)) {\r\n            return isArraysEqualByValue(object1, object2, deep)\r\n        }\r\n    }\r\n    return false\r\n};\r\nvar getKeyHash = function(key) {\r\n    if (key instanceof _guid2.default) {\r\n        return key.toString()\r\n    } else {\r\n        if ((0, _type.isObject)(key) || Array.isArray(key)) {\r\n            try {\r\n                var keyHash = JSON.stringify(key);\r\n                return \"{}\" === keyHash ? key : keyHash\r\n            } catch (e) {\r\n                return key\r\n            }\r\n        }\r\n    }\r\n    return key\r\n};\r\nvar escapeRegExp = function(string) {\r\n    return string.replace(/[[\\]{}\\-()*+?.\\\\^$|\\s]/g, \"\\\\$&\")\r\n};\r\nvar applyServerDecimalSeparator = function(value) {\r\n    var separator = (0, _config2.default)().serverDecimalSeparator;\r\n    if ((0, _type.isDefined)(value)) {\r\n        value = value.toString().replace(\".\", separator)\r\n    }\r\n    return value\r\n};\r\nvar noop = function() {};\r\nvar asyncNoop = function() {\r\n    return (new _deferred.Deferred).resolve().promise()\r\n};\r\nvar grep = function(elements, checkFunction, invert) {\r\n    var result = [];\r\n    var check = void 0;\r\n    var expectedCheck = !invert;\r\n    for (var i = 0; i < elements.length; i++) {\r\n        check = !!checkFunction(elements[i], i);\r\n        if (check === expectedCheck) {\r\n            result.push(elements[i])\r\n        }\r\n    }\r\n    return result\r\n};\r\nexports.ensureDefined = ensureDefined;\r\nexports.executeAsync = executeAsync;\r\nexports.deferRender = deferRender;\r\nexports.deferRenderer = deferRenderer;\r\nexports.deferUpdate = deferUpdate;\r\nexports.deferUpdater = deferUpdater;\r\nexports.pairToObject = pairToObject;\r\nexports.splitPair = splitPair;\r\nexports.findBestMatches = findBestMatches;\r\nexports.normalizeKey = normalizeKey;\r\nexports.denormalizeKey = denormalizeKey;\r\nexports.equalByValue = equalByValue;\r\nexports.getKeyHash = getKeyHash;\r\nexports.escapeRegExp = escapeRegExp;\r\nexports.applyServerDecimalSeparator = applyServerDecimalSeparator;\r\nexports.noop = noop;\r\nexports.asyncNoop = asyncNoop;\r\nexports.grep = grep;\r\n"]},"metadata":{},"sourceType":"script"}