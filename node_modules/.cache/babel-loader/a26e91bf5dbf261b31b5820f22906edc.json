{"ast":null,"code":"/*!\n * devextreme-react\n * Version: 18.2.13\n * Build date: Wed May 27 2020\n *\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\n *\n * This software may be modified and distributed under the terms\n * of the MIT license. See the LICENSE file in the root of the project for details.\n *\n * https://github.com/DevExpress/devextreme-react\n */\n\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar events = require(\"devextreme/events\");\n\nvar React = require(\"react\");\n\nvar common_1 = require(\"devextreme/core/utils/common\");\n\nvar options_manager_1 = require(\"./options-manager\");\n\nvar template_1 = require(\"./template\");\n\nvar templates_manager_1 = require(\"./templates-manager\");\n\nvar templates_store_1 = require(\"./templates-store\");\n\nvar widget_config_1 = require(\"./widget-config\");\n\nvar DX_REMOVE_EVENT = \"dxremove\";\nexports.DX_REMOVE_EVENT = DX_REMOVE_EVENT;\n\nvar ComponentBase =\n/** @class */\nfunction (_super) {\n  __extends(ComponentBase, _super);\n\n  function ComponentBase(props) {\n    var _this = _super.call(this, props) || this;\n\n    _this._templateProps = [];\n    _this._updateScheduled = false;\n    _this._prepareProps = _this._prepareProps.bind(_this);\n    _this._scheduleUpdate = _this._scheduleUpdate.bind(_this);\n    _this._templatesStore = new templates_store_1.TemplatesStore(_this._scheduleUpdate);\n    _this._templatesManager = new templates_manager_1.default(_this._templatesStore);\n    _this._optionsManager = new options_manager_1.default(function (name) {\n      return _this.props[name];\n    }, _this._templatesManager);\n    return _this;\n  }\n\n  ComponentBase.prototype.render = function () {\n    return React.createElement.apply(React, [\"div\", this._getElementProps()].concat(this._prepareChildren(), this._templatesStore.renderWrappers()));\n  };\n\n  ComponentBase.prototype.componentDidMount = function () {\n    this._updateCssClasses(null, this.props);\n  };\n\n  ComponentBase.prototype.componentDidUpdate = function (prevProps) {\n    this._updateCssClasses(prevProps, this.props);\n\n    var preparedProps = this._prepareProps(this.props);\n\n    this._optionsManager.updateOptions(preparedProps.options, prevProps);\n  };\n\n  ComponentBase.prototype.componentWillUnmount = function () {\n    if (this._instance) {\n      events.triggerHandler(this._element, DX_REMOVE_EVENT);\n\n      this._instance.dispose();\n    }\n\n    this._optionsManager.dispose();\n  };\n\n  ComponentBase.prototype._prepareChildren = function (args) {\n    var _this = this;\n\n    if (args === void 0) {\n      args = [];\n    }\n\n    this._optionsManager.resetNestedElements();\n\n    React.Children.forEach(this.props.children, function (child) {\n      if (child) {\n        args.push(_this._preprocessChild(child) || child);\n      }\n    });\n    return args;\n  };\n\n  ComponentBase.prototype._preprocessChild = function (component) {\n    var nestedTemplate = template_1.findProps(component);\n\n    if (nestedTemplate) {\n      this._templatesManager.addNested(nestedTemplate);\n    }\n\n    return this._optionsManager.registerNestedOption(component, this._expectedChildren) || component;\n  };\n\n  ComponentBase.prototype._createWidget = function (element) {\n    element = element || this._element;\n\n    var nestedProps = this._optionsManager.getNestedOptionsObjects();\n\n    var props = __assign({}, this.props, nestedProps);\n\n    var preparedProps = this._prepareProps(props);\n\n    var options = __assign({\n      templatesRenderAsynchronously: true\n    }, preparedProps.defaults, preparedProps.options, this._templatesManager.options);\n\n    this._optionsManager.wrapEventHandlers(options);\n\n    this._instance = new this._WidgetClass(element, options);\n\n    this._optionsManager.setInstance(this._instance);\n\n    this._instance.on(\"optionChanged\", this._optionsManager.handleOptionChange);\n  };\n\n  ComponentBase.prototype._scheduleUpdate = function () {\n    var _this = this;\n\n    if (this._updateScheduled) {\n      return;\n    }\n\n    this._updateScheduled = true;\n    common_1.deferUpdate(function () {\n      _this.forceUpdate();\n\n      _this._updateScheduled = false;\n    });\n  };\n\n  ComponentBase.prototype._getElementProps = function () {\n    var _this = this;\n\n    var elementProps = {\n      ref: function (element) {\n        return _this._element = element;\n      }\n    };\n    widget_config_1.elementPropNames.forEach(function (name) {\n      if (name in _this.props) {\n        elementProps[name] = _this.props[name];\n      }\n    });\n    return elementProps;\n  };\n\n  ComponentBase.prototype._updateCssClasses = function (prevProps, newProps) {\n    var _a, _b;\n\n    var prevClassName = prevProps ? widget_config_1.getClassName(prevProps) : undefined;\n    var newClassName = widget_config_1.getClassName(newProps);\n\n    if (prevClassName === newClassName) {\n      return;\n    }\n\n    if (prevClassName) {\n      var classNames = prevClassName.split(\" \").filter(function (c) {\n        return c;\n      });\n\n      if (classNames.length) {\n        (_a = this._element.classList).remove.apply(_a, classNames);\n      }\n    }\n\n    if (newClassName) {\n      var classNames = newClassName.split(\" \").filter(function (c) {\n        return c;\n      });\n\n      if (classNames.length) {\n        (_b = this._element.classList).add.apply(_b, classNames);\n      }\n    }\n  };\n\n  ComponentBase.prototype._prepareProps = function (rawProps) {\n    var _this = this;\n\n    var separatedProps = widget_config_1.separateProps(rawProps, this._defaults, this._templateProps);\n\n    var templatesOptions = this._templatesManager.add({\n      useChildren: function () {\n        return false;\n      },\n      ownerName: \"\",\n      templateProps: this._templateProps,\n      props: separatedProps.templates,\n      propsGetter: function (prop) {\n        return _this.props[prop];\n      }\n    });\n\n    return {\n      options: __assign({}, separatedProps.options, templatesOptions),\n      defaults: separatedProps.defaults\n    };\n  };\n\n  return ComponentBase;\n}(React.PureComponent);\n\nexports.ComponentBase = ComponentBase;","map":{"version":3,"sources":["C:/Users/abdel/PhpstormProjects/editeur_scenario_jeu/node_modules/devextreme-react/core/component-base.js"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","__assign","assign","t","s","i","n","arguments","length","call","apply","defineProperty","exports","value","events","require","React","common_1","options_manager_1","template_1","templates_manager_1","templates_store_1","widget_config_1","DX_REMOVE_EVENT","ComponentBase","_super","props","_this","_templateProps","_updateScheduled","_prepareProps","bind","_scheduleUpdate","_templatesStore","TemplatesStore","_templatesManager","default","_optionsManager","name","render","createElement","_getElementProps","concat","_prepareChildren","renderWrappers","componentDidMount","_updateCssClasses","componentDidUpdate","prevProps","preparedProps","updateOptions","options","componentWillUnmount","_instance","triggerHandler","_element","dispose","args","resetNestedElements","Children","forEach","children","child","push","_preprocessChild","component","nestedTemplate","findProps","addNested","registerNestedOption","_expectedChildren","_createWidget","element","nestedProps","getNestedOptionsObjects","templatesRenderAsynchronously","defaults","wrapEventHandlers","_WidgetClass","setInstance","on","handleOptionChange","deferUpdate","forceUpdate","elementProps","ref","elementPropNames","newProps","_a","_b","prevClassName","getClassName","undefined","newClassName","classNames","split","filter","c","classList","remove","add","rawProps","separatedProps","separateProps","_defaults","templatesOptions","useChildren","ownerName","templateProps","templates","propsGetter","prop","PureComponent"],"mappings":"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","sourcesContent":["/*!\n * devextreme-react\n * Version: 18.2.13\n * Build date: Wed May 27 2020\n *\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\n *\n * This software may be modified and distributed under the terms\n * of the MIT license. See the LICENSE file in the root of the project for details.\n *\n * https://github.com/DevExpress/devextreme-react\n */\n\n\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar events = require(\"devextreme/events\");\nvar React = require(\"react\");\nvar common_1 = require(\"devextreme/core/utils/common\");\nvar options_manager_1 = require(\"./options-manager\");\nvar template_1 = require(\"./template\");\nvar templates_manager_1 = require(\"./templates-manager\");\nvar templates_store_1 = require(\"./templates-store\");\nvar widget_config_1 = require(\"./widget-config\");\nvar DX_REMOVE_EVENT = \"dxremove\";\nexports.DX_REMOVE_EVENT = DX_REMOVE_EVENT;\nvar ComponentBase = /** @class */ (function (_super) {\n    __extends(ComponentBase, _super);\n    function ComponentBase(props) {\n        var _this = _super.call(this, props) || this;\n        _this._templateProps = [];\n        _this._updateScheduled = false;\n        _this._prepareProps = _this._prepareProps.bind(_this);\n        _this._scheduleUpdate = _this._scheduleUpdate.bind(_this);\n        _this._templatesStore = new templates_store_1.TemplatesStore(_this._scheduleUpdate);\n        _this._templatesManager = new templates_manager_1.default(_this._templatesStore);\n        _this._optionsManager = new options_manager_1.default(function (name) { return _this.props[name]; }, _this._templatesManager);\n        return _this;\n    }\n    ComponentBase.prototype.render = function () {\n        return React.createElement.apply(React, [\"div\",\n            this._getElementProps()].concat(this._prepareChildren(), this._templatesStore.renderWrappers()));\n    };\n    ComponentBase.prototype.componentDidMount = function () {\n        this._updateCssClasses(null, this.props);\n    };\n    ComponentBase.prototype.componentDidUpdate = function (prevProps) {\n        this._updateCssClasses(prevProps, this.props);\n        var preparedProps = this._prepareProps(this.props);\n        this._optionsManager.updateOptions(preparedProps.options, prevProps);\n    };\n    ComponentBase.prototype.componentWillUnmount = function () {\n        if (this._instance) {\n            events.triggerHandler(this._element, DX_REMOVE_EVENT);\n            this._instance.dispose();\n        }\n        this._optionsManager.dispose();\n    };\n    ComponentBase.prototype._prepareChildren = function (args) {\n        var _this = this;\n        if (args === void 0) { args = []; }\n        this._optionsManager.resetNestedElements();\n        React.Children.forEach(this.props.children, function (child) {\n            if (child) {\n                args.push(_this._preprocessChild(child) || child);\n            }\n        });\n        return args;\n    };\n    ComponentBase.prototype._preprocessChild = function (component) {\n        var nestedTemplate = template_1.findProps(component);\n        if (nestedTemplate) {\n            this._templatesManager.addNested(nestedTemplate);\n        }\n        return this._optionsManager.registerNestedOption(component, this._expectedChildren) || component;\n    };\n    ComponentBase.prototype._createWidget = function (element) {\n        element = element || this._element;\n        var nestedProps = this._optionsManager.getNestedOptionsObjects();\n        var props = __assign({}, this.props, nestedProps);\n        var preparedProps = this._prepareProps(props);\n        var options = __assign({ templatesRenderAsynchronously: true }, preparedProps.defaults, preparedProps.options, this._templatesManager.options);\n        this._optionsManager.wrapEventHandlers(options);\n        this._instance = new this._WidgetClass(element, options);\n        this._optionsManager.setInstance(this._instance);\n        this._instance.on(\"optionChanged\", this._optionsManager.handleOptionChange);\n    };\n    ComponentBase.prototype._scheduleUpdate = function () {\n        var _this = this;\n        if (this._updateScheduled) {\n            return;\n        }\n        this._updateScheduled = true;\n        common_1.deferUpdate(function () {\n            _this.forceUpdate();\n            _this._updateScheduled = false;\n        });\n    };\n    ComponentBase.prototype._getElementProps = function () {\n        var _this = this;\n        var elementProps = {\n            ref: function (element) { return _this._element = element; }\n        };\n        widget_config_1.elementPropNames.forEach(function (name) {\n            if (name in _this.props) {\n                elementProps[name] = _this.props[name];\n            }\n        });\n        return elementProps;\n    };\n    ComponentBase.prototype._updateCssClasses = function (prevProps, newProps) {\n        var _a, _b;\n        var prevClassName = prevProps ? widget_config_1.getClassName(prevProps) : undefined;\n        var newClassName = widget_config_1.getClassName(newProps);\n        if (prevClassName === newClassName) {\n            return;\n        }\n        if (prevClassName) {\n            var classNames = prevClassName.split(\" \").filter(function (c) { return c; });\n            if (classNames.length) {\n                (_a = this._element.classList).remove.apply(_a, classNames);\n            }\n        }\n        if (newClassName) {\n            var classNames = newClassName.split(\" \").filter(function (c) { return c; });\n            if (classNames.length) {\n                (_b = this._element.classList).add.apply(_b, classNames);\n            }\n        }\n    };\n    ComponentBase.prototype._prepareProps = function (rawProps) {\n        var _this = this;\n        var separatedProps = widget_config_1.separateProps(rawProps, this._defaults, this._templateProps);\n        var templatesOptions = this._templatesManager.add({\n            useChildren: function () { return false; },\n            ownerName: \"\",\n            templateProps: this._templateProps,\n            props: separatedProps.templates,\n            propsGetter: function (prop) { return _this.props[prop]; }\n        });\n        return {\n            options: __assign({}, separatedProps.options, templatesOptions),\n            defaults: separatedProps.defaults\n        };\n    };\n    return ComponentBase;\n}(React.PureComponent));\nexports.ComponentBase = ComponentBase;\n"]},"metadata":{},"sourceType":"script"}