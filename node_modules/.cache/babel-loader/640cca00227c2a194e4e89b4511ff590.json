{"ast":null,"code":"/**\r\n * DevExtreme (core/devices.js)\r\n * Version: 18.2.13\r\n * Build date: Wed May 27 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nvar $ = require(\"../core/renderer\"),\n    windowUtils = require(\"./utils/window\"),\n    navigator = windowUtils.getNavigator(),\n    window = windowUtils.getWindow(),\n    extend = require(\"./utils/extend\").extend,\n    isPlainObject = require(\"./utils/type\").isPlainObject,\n    each = require(\"./utils/iterator\").each,\n    Class = require(\"./class\"),\n    errors = require(\"./errors\"),\n    Callbacks = require(\"./utils/callbacks\"),\n    resizeCallbacks = require(\"./utils/resize_callbacks\"),\n    EventsMixin = require(\"./events_mixin\"),\n    SessionStorage = require(\"./utils/storage\").sessionStorage,\n    viewPort = require(\"./utils/view_port\"),\n    Config = require(\"./config\");\n\nvar KNOWN_UA_TABLE = {\n  iPhone: \"iPhone\",\n  iPhone5: \"iPhone\",\n  iPhone6: \"iPhone\",\n  iPhone6plus: \"iPhone\",\n  iPad: \"iPad\",\n  iPadMini: \"iPad Mini\",\n  androidPhone: \"Android Mobile\",\n  androidTablet: \"Android\",\n  win8: \"MSAppHost\",\n  win8Phone: \"Windows Phone 8.0\",\n  msSurface: \"Windows ARM Tablet PC\",\n  desktop: \"desktop\",\n  win10Phone: \"Windows Phone 10.0\",\n  win10: \"MSAppHost/3.0\"\n};\nvar DEFAULT_DEVICE = {\n  deviceType: \"desktop\",\n  platform: \"generic\",\n  version: [],\n  phone: false,\n  tablet: false,\n  android: false,\n  ios: false,\n  win: false,\n  generic: true,\n  grade: \"A\",\n  mac: false\n};\nvar uaParsers = {\n  win: function (userAgent) {\n    var isPhone = /windows phone/i.test(userAgent) || userAgent.match(/WPDesktop/),\n        isTablet = !isPhone && /Windows(.*)arm(.*)Tablet PC/i.test(userAgent),\n        isDesktop = !isPhone && !isTablet && /msapphost/i.test(userAgent);\n\n    if (!(isPhone || isTablet || isDesktop)) {\n      return;\n    }\n\n    var matches = userAgent.match(/windows phone (\\d+).(\\d+)/i) || userAgent.match(/windows nt (\\d+).(\\d+)/i),\n        version = [];\n\n    if (matches) {\n      version.push(parseInt(matches[1], 10), parseInt(matches[2], 10));\n    } else {\n      matches = userAgent.match(/msapphost(\\/(\\d+).(\\d+))?/i);\n      matches && version.push(3 === parseInt(matches[2], 10) ? 10 : 8);\n    }\n\n    return {\n      deviceType: isPhone ? \"phone\" : isTablet ? \"tablet\" : \"desktop\",\n      platform: \"win\",\n      version: version,\n      grade: \"A\"\n    };\n  },\n  ios: function (userAgent) {\n    if (!/ip(hone|od|ad)/i.test(userAgent)) {\n      return;\n    }\n\n    var isPhone = /ip(hone|od)/i.test(userAgent),\n        matches = userAgent.match(/os (\\d+)_(\\d+)_?(\\d+)?/i),\n        version = matches ? [parseInt(matches[1], 10), parseInt(matches[2], 10), parseInt(matches[3] || 0, 10)] : [],\n        isIPhone4 = 480 === window.screen.height,\n        grade = isIPhone4 ? \"B\" : \"A\";\n    return {\n      deviceType: isPhone ? \"phone\" : \"tablet\",\n      platform: \"ios\",\n      version: version,\n      grade: grade\n    };\n  },\n  android: function (userAgent) {\n    if (!/android|htc_|silk/i.test(userAgent)) {\n      return;\n    }\n\n    var isPhone = /mobile/i.test(userAgent),\n        matches = userAgent.match(/android (\\d+)\\.(\\d+)\\.?(\\d+)?/i),\n        version = matches ? [parseInt(matches[1], 10), parseInt(matches[2], 10), parseInt(matches[3] || 0, 10)] : [],\n        worseThan4_4 = version.length > 1 && (version[0] < 4 || 4 === version[0] && version[1] < 4),\n        grade = worseThan4_4 ? \"B\" : \"A\";\n    return {\n      deviceType: isPhone ? \"phone\" : \"tablet\",\n      platform: \"android\",\n      version: version,\n      grade: grade\n    };\n  }\n};\nvar Devices = Class.inherit({\n  ctor: function (options) {\n    this._window = options && options.window || window;\n    this._realDevice = this._getDevice();\n    this._currentDevice = void 0;\n    this._currentOrientation = void 0;\n    this.changed = Callbacks();\n\n    if (windowUtils.hasWindow()) {\n      this._recalculateOrientation();\n\n      resizeCallbacks.add(this._recalculateOrientation.bind(this));\n    }\n  },\n  current: function (deviceOrName) {\n    if (deviceOrName) {\n      this._currentDevice = this._getDevice(deviceOrName);\n      this._forced = true;\n      this.changed.fire();\n      return;\n    }\n\n    if (!this._currentDevice) {\n      deviceOrName = void 0;\n\n      try {\n        deviceOrName = this._getDeviceOrNameFromWindowScope();\n      } catch (e) {\n        deviceOrName = this._getDeviceNameFromSessionStorage();\n      } finally {\n        if (!deviceOrName) {\n          deviceOrName = this._getDeviceNameFromSessionStorage();\n        }\n\n        if (deviceOrName) {\n          this._forced = true;\n        }\n      }\n\n      this._currentDevice = this._getDevice(deviceOrName);\n    }\n\n    return this._currentDevice;\n  },\n  real: function () {\n    return extend({}, this._realDevice);\n  },\n  orientation: function () {\n    return this._currentOrientation;\n  },\n  isForced: function () {\n    return this._forced;\n  },\n  isRippleEmulator: function () {\n    return !!this._window.tinyHippos;\n  },\n  _getCssClasses: function (device) {\n    var result = [];\n    var realDevice = this._realDevice;\n    device = device || this.current();\n\n    if (device.deviceType) {\n      result.push(\"dx-device-\" + device.deviceType);\n\n      if (\"desktop\" !== device.deviceType) {\n        result.push(\"dx-device-mobile\");\n      }\n    }\n\n    result.push(\"dx-device-\" + realDevice.platform);\n\n    if (realDevice.version && realDevice.version.length) {\n      result.push(\"dx-device-\" + realDevice.platform + \"-\" + realDevice.version[0]);\n    }\n\n    if (devices.isSimulator()) {\n      result.push(\"dx-simulator\");\n    }\n\n    if (Config().rtlEnabled) {\n      result.push(\"dx-rtl\");\n    }\n\n    return result;\n  },\n  attachCssClasses: function (element, device) {\n    this._deviceClasses = this._getCssClasses(device).join(\" \");\n    $(element).addClass(this._deviceClasses);\n  },\n  detachCssClasses: function (element) {\n    $(element).removeClass(this._deviceClasses);\n  },\n  isSimulator: function () {\n    try {\n      return this._isSimulator || windowUtils.hasWindow() && this._window.top !== this._window.self && this._window.top[\"dx-force-device\"] || this.isRippleEmulator();\n    } catch (e) {\n      return false;\n    }\n  },\n  forceSimulator: function () {\n    this._isSimulator = true;\n  },\n  _getDevice: function (deviceName) {\n    if (\"genericPhone\" === deviceName) {\n      deviceName = {\n        deviceType: \"phone\",\n        platform: \"generic\",\n        generic: true\n      };\n    }\n\n    if (isPlainObject(deviceName)) {\n      return this._fromConfig(deviceName);\n    } else {\n      var ua;\n\n      if (deviceName) {\n        ua = KNOWN_UA_TABLE[deviceName];\n\n        if (!ua) {\n          throw errors.Error(\"E0005\");\n        }\n      } else {\n        ua = navigator.userAgent;\n      }\n\n      return this._fromUA(ua);\n    }\n  },\n  _getDeviceOrNameFromWindowScope: function () {\n    var result;\n\n    if (windowUtils.hasWindow() && (this._window.top[\"dx-force-device-object\"] || this._window.top[\"dx-force-device\"])) {\n      result = this._window.top[\"dx-force-device-object\"] || this._window.top[\"dx-force-device\"];\n    }\n\n    return result;\n  },\n  _getDeviceNameFromSessionStorage: function () {\n    var sessionStorage = SessionStorage();\n\n    if (!sessionStorage) {\n      return;\n    }\n\n    var deviceOrName = sessionStorage.getItem(\"dx-force-device\");\n\n    try {\n      return JSON.parse(deviceOrName);\n    } catch (ex) {\n      return deviceOrName;\n    }\n  },\n  _fromConfig: function (config) {\n    var result = extend({}, DEFAULT_DEVICE, this._currentDevice, config),\n        shortcuts = {\n      phone: \"phone\" === result.deviceType,\n      tablet: \"tablet\" === result.deviceType,\n      android: \"android\" === result.platform,\n      ios: \"ios\" === result.platform,\n      win: \"win\" === result.platform,\n      generic: \"generic\" === result.platform\n    };\n    return extend(result, shortcuts);\n  },\n  _fromUA: function (ua) {\n    var config;\n    each(uaParsers, function (platform, parser) {\n      config = parser(ua);\n      return !config;\n    });\n\n    if (config) {\n      return this._fromConfig(config);\n    }\n\n    var isMac = /(mac os)/.test(ua.toLowerCase()),\n        deviceWithOS = DEFAULT_DEVICE;\n    deviceWithOS.mac = isMac;\n    return deviceWithOS;\n  },\n  _changeOrientation: function () {\n    var $window = $(this._window),\n        orientation = $window.height() > $window.width() ? \"portrait\" : \"landscape\";\n\n    if (this._currentOrientation === orientation) {\n      return;\n    }\n\n    this._currentOrientation = orientation;\n    this.fireEvent(\"orientationChanged\", [{\n      orientation: orientation\n    }]);\n  },\n  _recalculateOrientation: function () {\n    var windowWidth = $(this._window).width();\n\n    if (this._currentWidth === windowWidth) {\n      return;\n    }\n\n    this._currentWidth = windowWidth;\n\n    this._changeOrientation();\n  }\n}).include(EventsMixin);\nvar devices = new Devices();\nviewPort.changeCallback.add(function (viewPort, prevViewport) {\n  devices.detachCssClasses(prevViewport);\n  devices.attachCssClasses(viewPort);\n});\n\nif (!devices.isForced() && \"win\" === devices.current().platform) {\n  devices.current({\n    version: [10]\n  });\n}\n\nmodule.exports = devices;\nmodule.exports.default = module.exports;","map":{"version":3,"sources":["C:/Users/abdel/PhpstormProjects/editeur_scenario_jeu/node_modules/devextreme/core/devices.js"],"names":["$","require","windowUtils","navigator","getNavigator","window","getWindow","extend","isPlainObject","each","Class","errors","Callbacks","resizeCallbacks","EventsMixin","SessionStorage","sessionStorage","viewPort","Config","KNOWN_UA_TABLE","iPhone","iPhone5","iPhone6","iPhone6plus","iPad","iPadMini","androidPhone","androidTablet","win8","win8Phone","msSurface","desktop","win10Phone","win10","DEFAULT_DEVICE","deviceType","platform","version","phone","tablet","android","ios","win","generic","grade","mac","uaParsers","userAgent","isPhone","test","match","isTablet","isDesktop","matches","push","parseInt","isIPhone4","screen","height","worseThan4_4","length","Devices","inherit","ctor","options","_window","_realDevice","_getDevice","_currentDevice","_currentOrientation","changed","hasWindow","_recalculateOrientation","add","bind","current","deviceOrName","_forced","fire","_getDeviceOrNameFromWindowScope","e","_getDeviceNameFromSessionStorage","real","orientation","isForced","isRippleEmulator","tinyHippos","_getCssClasses","device","result","realDevice","devices","isSimulator","rtlEnabled","attachCssClasses","element","_deviceClasses","join","addClass","detachCssClasses","removeClass","_isSimulator","top","self","forceSimulator","deviceName","_fromConfig","ua","Error","_fromUA","getItem","JSON","parse","ex","config","shortcuts","parser","isMac","toLowerCase","deviceWithOS","_changeOrientation","$window","width","fireEvent","windowWidth","_currentWidth","include","changeCallback","prevViewport","module","exports","default"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (core/devices.js)\r\n * Version: 18.2.13\r\n * Build date: Wed May 27 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nvar $ = require(\"../core/renderer\"),\r\n    windowUtils = require(\"./utils/window\"),\r\n    navigator = windowUtils.getNavigator(),\r\n    window = windowUtils.getWindow(),\r\n    extend = require(\"./utils/extend\").extend,\r\n    isPlainObject = require(\"./utils/type\").isPlainObject,\r\n    each = require(\"./utils/iterator\").each,\r\n    Class = require(\"./class\"),\r\n    errors = require(\"./errors\"),\r\n    Callbacks = require(\"./utils/callbacks\"),\r\n    resizeCallbacks = require(\"./utils/resize_callbacks\"),\r\n    EventsMixin = require(\"./events_mixin\"),\r\n    SessionStorage = require(\"./utils/storage\").sessionStorage,\r\n    viewPort = require(\"./utils/view_port\"),\r\n    Config = require(\"./config\");\r\nvar KNOWN_UA_TABLE = {\r\n    iPhone: \"iPhone\",\r\n    iPhone5: \"iPhone\",\r\n    iPhone6: \"iPhone\",\r\n    iPhone6plus: \"iPhone\",\r\n    iPad: \"iPad\",\r\n    iPadMini: \"iPad Mini\",\r\n    androidPhone: \"Android Mobile\",\r\n    androidTablet: \"Android\",\r\n    win8: \"MSAppHost\",\r\n    win8Phone: \"Windows Phone 8.0\",\r\n    msSurface: \"Windows ARM Tablet PC\",\r\n    desktop: \"desktop\",\r\n    win10Phone: \"Windows Phone 10.0\",\r\n    win10: \"MSAppHost/3.0\"\r\n};\r\nvar DEFAULT_DEVICE = {\r\n    deviceType: \"desktop\",\r\n    platform: \"generic\",\r\n    version: [],\r\n    phone: false,\r\n    tablet: false,\r\n    android: false,\r\n    ios: false,\r\n    win: false,\r\n    generic: true,\r\n    grade: \"A\",\r\n    mac: false\r\n};\r\nvar uaParsers = {\r\n    win: function(userAgent) {\r\n        var isPhone = /windows phone/i.test(userAgent) || userAgent.match(/WPDesktop/),\r\n            isTablet = !isPhone && /Windows(.*)arm(.*)Tablet PC/i.test(userAgent),\r\n            isDesktop = !isPhone && !isTablet && /msapphost/i.test(userAgent);\r\n        if (!(isPhone || isTablet || isDesktop)) {\r\n            return\r\n        }\r\n        var matches = userAgent.match(/windows phone (\\d+).(\\d+)/i) || userAgent.match(/windows nt (\\d+).(\\d+)/i),\r\n            version = [];\r\n        if (matches) {\r\n            version.push(parseInt(matches[1], 10), parseInt(matches[2], 10))\r\n        } else {\r\n            matches = userAgent.match(/msapphost(\\/(\\d+).(\\d+))?/i);\r\n            matches && version.push(3 === parseInt(matches[2], 10) ? 10 : 8)\r\n        }\r\n        return {\r\n            deviceType: isPhone ? \"phone\" : isTablet ? \"tablet\" : \"desktop\",\r\n            platform: \"win\",\r\n            version: version,\r\n            grade: \"A\"\r\n        }\r\n    },\r\n    ios: function(userAgent) {\r\n        if (!/ip(hone|od|ad)/i.test(userAgent)) {\r\n            return\r\n        }\r\n        var isPhone = /ip(hone|od)/i.test(userAgent),\r\n            matches = userAgent.match(/os (\\d+)_(\\d+)_?(\\d+)?/i),\r\n            version = matches ? [parseInt(matches[1], 10), parseInt(matches[2], 10), parseInt(matches[3] || 0, 10)] : [],\r\n            isIPhone4 = 480 === window.screen.height,\r\n            grade = isIPhone4 ? \"B\" : \"A\";\r\n        return {\r\n            deviceType: isPhone ? \"phone\" : \"tablet\",\r\n            platform: \"ios\",\r\n            version: version,\r\n            grade: grade\r\n        }\r\n    },\r\n    android: function(userAgent) {\r\n        if (!/android|htc_|silk/i.test(userAgent)) {\r\n            return\r\n        }\r\n        var isPhone = /mobile/i.test(userAgent),\r\n            matches = userAgent.match(/android (\\d+)\\.(\\d+)\\.?(\\d+)?/i),\r\n            version = matches ? [parseInt(matches[1], 10), parseInt(matches[2], 10), parseInt(matches[3] || 0, 10)] : [],\r\n            worseThan4_4 = version.length > 1 && (version[0] < 4 || 4 === version[0] && version[1] < 4),\r\n            grade = worseThan4_4 ? \"B\" : \"A\";\r\n        return {\r\n            deviceType: isPhone ? \"phone\" : \"tablet\",\r\n            platform: \"android\",\r\n            version: version,\r\n            grade: grade\r\n        }\r\n    }\r\n};\r\nvar Devices = Class.inherit({\r\n    ctor: function(options) {\r\n        this._window = options && options.window || window;\r\n        this._realDevice = this._getDevice();\r\n        this._currentDevice = void 0;\r\n        this._currentOrientation = void 0;\r\n        this.changed = Callbacks();\r\n        if (windowUtils.hasWindow()) {\r\n            this._recalculateOrientation();\r\n            resizeCallbacks.add(this._recalculateOrientation.bind(this))\r\n        }\r\n    },\r\n    current: function(deviceOrName) {\r\n        if (deviceOrName) {\r\n            this._currentDevice = this._getDevice(deviceOrName);\r\n            this._forced = true;\r\n            this.changed.fire();\r\n            return\r\n        }\r\n        if (!this._currentDevice) {\r\n            deviceOrName = void 0;\r\n            try {\r\n                deviceOrName = this._getDeviceOrNameFromWindowScope()\r\n            } catch (e) {\r\n                deviceOrName = this._getDeviceNameFromSessionStorage()\r\n            } finally {\r\n                if (!deviceOrName) {\r\n                    deviceOrName = this._getDeviceNameFromSessionStorage()\r\n                }\r\n                if (deviceOrName) {\r\n                    this._forced = true\r\n                }\r\n            }\r\n            this._currentDevice = this._getDevice(deviceOrName)\r\n        }\r\n        return this._currentDevice\r\n    },\r\n    real: function() {\r\n        return extend({}, this._realDevice)\r\n    },\r\n    orientation: function() {\r\n        return this._currentOrientation\r\n    },\r\n    isForced: function() {\r\n        return this._forced\r\n    },\r\n    isRippleEmulator: function() {\r\n        return !!this._window.tinyHippos\r\n    },\r\n    _getCssClasses: function(device) {\r\n        var result = [];\r\n        var realDevice = this._realDevice;\r\n        device = device || this.current();\r\n        if (device.deviceType) {\r\n            result.push(\"dx-device-\" + device.deviceType);\r\n            if (\"desktop\" !== device.deviceType) {\r\n                result.push(\"dx-device-mobile\")\r\n            }\r\n        }\r\n        result.push(\"dx-device-\" + realDevice.platform);\r\n        if (realDevice.version && realDevice.version.length) {\r\n            result.push(\"dx-device-\" + realDevice.platform + \"-\" + realDevice.version[0])\r\n        }\r\n        if (devices.isSimulator()) {\r\n            result.push(\"dx-simulator\")\r\n        }\r\n        if (Config().rtlEnabled) {\r\n            result.push(\"dx-rtl\")\r\n        }\r\n        return result\r\n    },\r\n    attachCssClasses: function(element, device) {\r\n        this._deviceClasses = this._getCssClasses(device).join(\" \");\r\n        $(element).addClass(this._deviceClasses)\r\n    },\r\n    detachCssClasses: function(element) {\r\n        $(element).removeClass(this._deviceClasses)\r\n    },\r\n    isSimulator: function() {\r\n        try {\r\n            return this._isSimulator || windowUtils.hasWindow() && this._window.top !== this._window.self && this._window.top[\"dx-force-device\"] || this.isRippleEmulator()\r\n        } catch (e) {\r\n            return false\r\n        }\r\n    },\r\n    forceSimulator: function() {\r\n        this._isSimulator = true\r\n    },\r\n    _getDevice: function(deviceName) {\r\n        if (\"genericPhone\" === deviceName) {\r\n            deviceName = {\r\n                deviceType: \"phone\",\r\n                platform: \"generic\",\r\n                generic: true\r\n            }\r\n        }\r\n        if (isPlainObject(deviceName)) {\r\n            return this._fromConfig(deviceName)\r\n        } else {\r\n            var ua;\r\n            if (deviceName) {\r\n                ua = KNOWN_UA_TABLE[deviceName];\r\n                if (!ua) {\r\n                    throw errors.Error(\"E0005\")\r\n                }\r\n            } else {\r\n                ua = navigator.userAgent\r\n            }\r\n            return this._fromUA(ua)\r\n        }\r\n    },\r\n    _getDeviceOrNameFromWindowScope: function() {\r\n        var result;\r\n        if (windowUtils.hasWindow() && (this._window.top[\"dx-force-device-object\"] || this._window.top[\"dx-force-device\"])) {\r\n            result = this._window.top[\"dx-force-device-object\"] || this._window.top[\"dx-force-device\"]\r\n        }\r\n        return result\r\n    },\r\n    _getDeviceNameFromSessionStorage: function() {\r\n        var sessionStorage = SessionStorage();\r\n        if (!sessionStorage) {\r\n            return\r\n        }\r\n        var deviceOrName = sessionStorage.getItem(\"dx-force-device\");\r\n        try {\r\n            return JSON.parse(deviceOrName)\r\n        } catch (ex) {\r\n            return deviceOrName\r\n        }\r\n    },\r\n    _fromConfig: function(config) {\r\n        var result = extend({}, DEFAULT_DEVICE, this._currentDevice, config),\r\n            shortcuts = {\r\n                phone: \"phone\" === result.deviceType,\r\n                tablet: \"tablet\" === result.deviceType,\r\n                android: \"android\" === result.platform,\r\n                ios: \"ios\" === result.platform,\r\n                win: \"win\" === result.platform,\r\n                generic: \"generic\" === result.platform\r\n            };\r\n        return extend(result, shortcuts)\r\n    },\r\n    _fromUA: function(ua) {\r\n        var config;\r\n        each(uaParsers, function(platform, parser) {\r\n            config = parser(ua);\r\n            return !config\r\n        });\r\n        if (config) {\r\n            return this._fromConfig(config)\r\n        }\r\n        var isMac = /(mac os)/.test(ua.toLowerCase()),\r\n            deviceWithOS = DEFAULT_DEVICE;\r\n        deviceWithOS.mac = isMac;\r\n        return deviceWithOS\r\n    },\r\n    _changeOrientation: function() {\r\n        var $window = $(this._window),\r\n            orientation = $window.height() > $window.width() ? \"portrait\" : \"landscape\";\r\n        if (this._currentOrientation === orientation) {\r\n            return\r\n        }\r\n        this._currentOrientation = orientation;\r\n        this.fireEvent(\"orientationChanged\", [{\r\n            orientation: orientation\r\n        }])\r\n    },\r\n    _recalculateOrientation: function() {\r\n        var windowWidth = $(this._window).width();\r\n        if (this._currentWidth === windowWidth) {\r\n            return\r\n        }\r\n        this._currentWidth = windowWidth;\r\n        this._changeOrientation()\r\n    }\r\n}).include(EventsMixin);\r\nvar devices = new Devices;\r\nviewPort.changeCallback.add(function(viewPort, prevViewport) {\r\n    devices.detachCssClasses(prevViewport);\r\n    devices.attachCssClasses(viewPort)\r\n});\r\nif (!devices.isForced() && \"win\" === devices.current().platform) {\r\n    devices.current({\r\n        version: [10]\r\n    })\r\n}\r\nmodule.exports = devices;\r\nmodule.exports.default = module.exports;\r\n"]},"metadata":{},"sourceType":"script"}