{"ast":null,"code":"import { activites, quetes, scenarios, taches } from \"../../data/data\";\n/*\r\n    Prend l'id de l'activité en paramètre.\r\n    Retourne son indice dans la liste des activités.\r\n */\n\nexport function accesActiviteIndice(id) {\n  return activites.findIndex(v => v.nom === id);\n}\n/*\r\n    Remplace l'activité par une autre\r\n */\n\nexport function modificationActivite(activite, id) {\n  let i = accesActiviteIndice(id);\n  activites[i] = activite;\n  scenarios.map(s => {\n    if (s.idPere === id) {\n      s.idPere = activite.id;\n    }\n  });\n}\nexport function supprimerActivite(id) {\n  activites = activites.filter(a => a.id !== id);\n  let scenes = scenarios.filter(s => s.idActivite === id);\n  let quest = [];\n\n  for (let i = 0; i < scenes.length; i++) {\n    quest = quetes.filter(q => q.idScenario === scenes[i].id);\n\n    for (let j = 0; j < quest.length; j++) {\n      taches = taches.filter(t => t.idQuete !== quest[j].id);\n    }\n\n    quetes = quetes.filter(q => q.idScenario !== scenes[i].id);\n  }\n\n  scenarios = scenarios.filter(s => s.idActivite !== id);\n  return null;\n}\nexport function ajouterActivite(activite) {\n  activites.push(activite);\n  return null;\n}","map":{"version":3,"sources":["C:\\Users\\abdel\\PhpstormProjects\\update\\src\\fonctions\\helper\\ActiviteHelper.js"],"names":["activites","quetes","scenarios","taches","accesActiviteIndice","id","findIndex","v","nom","modificationActivite","activite","i","map","s","idPere","supprimerActivite","filter","a","scenes","idActivite","quest","length","q","idScenario","j","t","idQuete","ajouterActivite","push"],"mappings":"AAAA,SAAQA,SAAR,EAAkBC,MAAlB,EAAyBC,SAAzB,EAAmCC,MAAnC,QAAgD,iBAAhD;AAEA;;;;;AAIA,OAAO,SAASC,mBAAT,CAA6BC,EAA7B,EAAgC;AACnC,SAAOL,SAAS,CAACM,SAAV,CAAoBC,CAAC,IAAIA,CAAC,CAACC,GAAF,KAAUH,EAAnC,CAAP;AACH;AAED;;;;AAGA,OAAO,SAASI,oBAAT,CAA8BC,QAA9B,EAAuCL,EAAvC,EAA0C;AAC7C,MAAIM,CAAC,GAAGP,mBAAmB,CAACC,EAAD,CAA3B;AACAL,EAAAA,SAAS,CAACW,CAAD,CAAT,GAAaD,QAAb;AACAR,EAAAA,SAAS,CAACU,GAAV,CAAcC,CAAC,IAAE;AACb,QAAIA,CAAC,CAACC,MAAF,KAAWT,EAAf,EAAkB;AACdQ,MAAAA,CAAC,CAACC,MAAF,GAASJ,QAAQ,CAACL,EAAlB;AACH;AACJ,GAJD;AAKH;AAED,OAAO,SAASU,iBAAT,CAA2BV,EAA3B,EAA8B;AACjCL,EAAAA,SAAS,GAAGA,SAAS,CAACgB,MAAV,CAAiBC,CAAC,IAAEA,CAAC,CAACZ,EAAF,KAAOA,EAA3B,CAAZ;AAEA,MAAIa,MAAM,GAAGhB,SAAS,CAACc,MAAV,CAAiBH,CAAC,IAAEA,CAAC,CAACM,UAAF,KAAed,EAAnC,CAAb;AAEA,MAAIe,KAAK,GAAG,EAAZ;;AACA,OAAK,IAAIT,CAAC,GAAC,CAAX,EAAaA,CAAC,GAACO,MAAM,CAACG,MAAtB,EAA6BV,CAAC,EAA9B,EAAiC;AAC7BS,IAAAA,KAAK,GAAGnB,MAAM,CAACe,MAAP,CAAcM,CAAC,IAAEA,CAAC,CAACC,UAAF,KAAeL,MAAM,CAACP,CAAD,CAAN,CAAUN,EAA1C,CAAR;;AACA,SAAK,IAAImB,CAAC,GAAC,CAAX,EAAaA,CAAC,GAACJ,KAAK,CAACC,MAArB,EAA4BG,CAAC,EAA7B,EAAgC;AAC5BrB,MAAAA,MAAM,GAACA,MAAM,CAACa,MAAP,CAAcS,CAAC,IAAEA,CAAC,CAACC,OAAF,KAAYN,KAAK,CAACI,CAAD,CAAL,CAASnB,EAAtC,CAAP;AACH;;AACDJ,IAAAA,MAAM,GAACA,MAAM,CAACe,MAAP,CAAcM,CAAC,IAAEA,CAAC,CAACC,UAAF,KAAeL,MAAM,CAACP,CAAD,CAAN,CAAUN,EAA1C,CAAP;AACH;;AACDH,EAAAA,SAAS,GAACA,SAAS,CAACc,MAAV,CAAiBH,CAAC,IAAEA,CAAC,CAACM,UAAF,KAAed,EAAnC,CAAV;AAEA,SAAO,IAAP;AACH;AAED,OAAO,SAASsB,eAAT,CAAyBjB,QAAzB,EAAmC;AACtCV,EAAAA,SAAS,CAAC4B,IAAV,CAAelB,QAAf;AAEA,SAAO,IAAP;AACH","sourcesContent":["import {activites,quetes,scenarios,taches} from \"../../data/data\";\r\n\r\n/*\r\n    Prend l'id de l'activité en paramètre.\r\n    Retourne son indice dans la liste des activités.\r\n */\r\nexport function accesActiviteIndice(id){\r\n    return activites.findIndex(v => v.nom === id);\r\n}\r\n\r\n/*\r\n    Remplace l'activité par une autre\r\n */\r\nexport function modificationActivite(activite,id){\r\n    let i = accesActiviteIndice(id);\r\n    activites[i]=activite;\r\n    scenarios.map(s=>{\r\n        if (s.idPere===id){\r\n            s.idPere=activite.id;\r\n        }\r\n    })\r\n}\r\n\r\nexport function supprimerActivite(id){\r\n    activites = activites.filter(a=>a.id!==id);\r\n\r\n    let scenes = scenarios.filter(s=>s.idActivite===id);\r\n\r\n    let quest = [];\r\n    for (let i=0;i<scenes.length;i++){\r\n        quest = quetes.filter(q=>q.idScenario===scenes[i].id);\r\n        for (let j=0;j<quest.length;j++){\r\n            taches=taches.filter(t=>t.idQuete!==quest[j].id);\r\n        }\r\n        quetes=quetes.filter(q=>q.idScenario!==scenes[i].id)\r\n    }\r\n    scenarios=scenarios.filter(s=>s.idActivite!==id);\r\n\r\n    return null;\r\n}\r\n\r\nexport function ajouterActivite(activite) {\r\n    activites.push(activite);\r\n\r\n    return null;\r\n}"]},"metadata":{},"sourceType":"module"}