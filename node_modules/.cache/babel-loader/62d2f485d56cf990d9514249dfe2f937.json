{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\abdel\\\\PhpstormProjects\\\\update\\\\src\\\\navigation\\\\Navigation.js\";\nimport React, { Component } from \"react\";\nimport TreeView from \"devextreme-react/tree-view\";\nimport * as Constants from \"../configuration_app/Constants\";\nimport { activites } from \"../data/data\";\nimport { update } from \"../App\";\nimport { mise_a_jour_na, rechercheNav } from \"../fonctions/helper/NavigationHelper\"; //fonction qui met a jour la navigation\n\nexport function update_navigation() {\n  let nav = mise_a_jour_na();\n  this.setState({\n    p: nav\n  });\n}\n\nclass Navigation extends Component {\n  constructor(props) {\n    super(props);\n\n    this.recherche = id => {\n      // renvoie la liste des nodes et des links\n      return rechercheNav(id);\n    };\n\n    this.state = {\n      value: \"contains\",\n      p: []\n    };\n    this.itemClicked = this.itemClicked.bind(this);\n    this.update_navigation = update_navigation.bind(this);\n  }\n\n  itemClicked(e) {\n    let r = this.recherche(e.itemData.id);\n    console.log(r);\n    activites[0].nodes = r.nodes;\n    activites[0].links = r.links;\n  }\n\n  componentWillMount() {\n    this.update_navigation();\n    console.log(\"test component monter\");\n  }\n\n  render() {\n    return React.createElement(React.Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }, React.createElement(TreeView, {\n      id: \"treeview\",\n      items: this.state.p,\n      height: Constants.NAV_DEFAULT_HEIGHT,\n      width: Constants.NAV_DEFAULT_WIDTH,\n      searchMode: Constants.NAV_DEFAULT_SEARCH_MODE,\n      searchEnabled: Constants.NAV_DEFAULT_SEARCH_ENABLE,\n      selectionMode: 'single',\n      selectByClick: true,\n      onItemClick: this.itemClicked,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default Navigation;","map":{"version":3,"sources":["C:\\Users\\abdel\\PhpstormProjects\\update\\src\\navigation\\Navigation.js"],"names":["React","Component","TreeView","Constants","activites","update","mise_a_jour_na","rechercheNav","update_navigation","nav","setState","p","Navigation","constructor","props","recherche","id","state","value","itemClicked","bind","e","r","itemData","console","log","nodes","links","componentWillMount","render","NAV_DEFAULT_HEIGHT","NAV_DEFAULT_WIDTH","NAV_DEFAULT_SEARCH_MODE","NAV_DEFAULT_SEARCH_ENABLE"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AAEA,OAAOC,QAAP,MAAqB,4BAArB;AAEA,OAAO,KAAKC,SAAZ,MAA2B,gCAA3B;AAEA,SAAQC,SAAR,QAAwB,cAAxB;AAEA,SAAQC,MAAR,QAAqB,QAArB;AACA,SAAQC,cAAR,EAAwBC,YAAxB,QAA2C,sCAA3C,C,CAEA;;AACA,OAAO,SAASC,iBAAT,GAA6B;AAChC,MAAIC,GAAG,GAAGH,cAAc,EAAxB;AACA,OAAKI,QAAL,CAAc;AAACC,IAAAA,CAAC,EAACF;AAAH,GAAd;AACH;;AAED,MAAMG,UAAN,SAAyBX,SAAzB,CAAmC;AAC/BY,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;;AADe,SAYnBC,SAZmB,GAYRC,EAAD,IAAM;AACZ;AACA,aAAQT,YAAY,CAACS,EAAD,CAApB;AACH,KAfkB;;AAGf,SAAKC,KAAL,GAAa;AACTC,MAAAA,KAAK,EAAE,UADE;AAETP,MAAAA,CAAC,EAAC;AAFO,KAAb;AAKA,SAAKQ,WAAL,GAAmB,KAAKA,WAAL,CAAiBC,IAAjB,CAAsB,IAAtB,CAAnB;AACA,SAAKZ,iBAAL,GAAyBA,iBAAiB,CAACY,IAAlB,CAAuB,IAAvB,CAAzB;AACH;;AAQDD,EAAAA,WAAW,CAACE,CAAD,EAAI;AAEX,QAAIC,CAAC,GAAG,KAAKP,SAAL,CAAeM,CAAC,CAACE,QAAF,CAAWP,EAA1B,CAAR;AACAQ,IAAAA,OAAO,CAACC,GAAR,CAAYH,CAAZ;AACAlB,IAAAA,SAAS,CAAC,CAAD,CAAT,CAAasB,KAAb,GAAmBJ,CAAC,CAACI,KAArB;AACAtB,IAAAA,SAAS,CAAC,CAAD,CAAT,CAAauB,KAAb,GAAmBL,CAAC,CAACK,KAArB;AACH;;AAEDC,EAAAA,kBAAkB,GAAG;AACjB,SAAKpB,iBAAL;AACAgB,IAAAA,OAAO,CAACC,GAAR,CAAY,uBAAZ;AACH;;AAIDI,EAAAA,MAAM,GAAG;AACL,WACI,oBAAC,KAAD,CAAO,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,QAAD;AACI,MAAA,EAAE,EAAG,UADT;AAEI,MAAA,KAAK,EAAG,KAAKZ,KAAL,CAAWN,CAFvB;AAGI,MAAA,MAAM,EAAGR,SAAS,CAAC2B,kBAHvB;AAII,MAAA,KAAK,EAAG3B,SAAS,CAAC4B,iBAJtB;AAKI,MAAA,UAAU,EAAI5B,SAAS,CAAC6B,uBAL5B;AAMI,MAAA,aAAa,EAAG7B,SAAS,CAAC8B,yBAN9B;AAOI,MAAA,aAAa,EAAE,QAPnB;AAQI,MAAA,aAAa,EAAE,IARnB;AASI,MAAA,WAAW,EAAG,KAAKd,WATvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CADJ;AAgBH;;AAnD8B;;AAsDnC,eAAeP,UAAf","sourcesContent":["import React, { Component } from \"react\";\r\n\r\nimport TreeView from \"devextreme-react/tree-view\";\r\n\r\nimport * as Constants from \"../configuration_app/Constants\";\r\n\r\nimport {activites} from \"../data/data\";\r\n\r\nimport {update} from \"../App\";\r\nimport {mise_a_jour_na, rechercheNav} from \"../fonctions/helper/NavigationHelper\";\r\n\r\n//fonction qui met a jour la navigation\r\nexport function update_navigation (){\r\n    let nav = mise_a_jour_na();\r\n    this.setState({p:nav});\r\n}\r\n\r\nclass Navigation extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            value: \"contains\",\r\n            p:[],\r\n        };\r\n\r\n        this.itemClicked = this.itemClicked.bind(this);\r\n        this.update_navigation = update_navigation.bind(this);\r\n    }\r\n\r\n    recherche=(id)=>{\r\n        // renvoie la liste des nodes et des links\r\n        return  rechercheNav(id);\r\n    };\r\n\r\n\r\n    itemClicked(e) {\r\n\r\n        let r = this.recherche(e.itemData.id);\r\n        console.log(r);\r\n        activites[0].nodes=r.nodes;\r\n        activites[0].links=r.links;\r\n    }\r\n\r\n    componentWillMount() {\r\n        this.update_navigation();\r\n        console.log(\"test component monter\");\r\n    }\r\n\r\n\r\n\r\n    render() {\r\n        return (\r\n            <React.Fragment>\r\n                <TreeView\r\n                    id={ \"treeview\" }\r\n                    items={ this.state.p }\r\n                    height={ Constants.NAV_DEFAULT_HEIGHT }\r\n                    width={ Constants.NAV_DEFAULT_WIDTH }\r\n                    searchMode= { Constants.NAV_DEFAULT_SEARCH_MODE }\r\n                    searchEnabled={ Constants.NAV_DEFAULT_SEARCH_ENABLE }\r\n                    selectionMode={'single'}\r\n                    selectByClick={true}\r\n                    onItemClick={ this.itemClicked }\r\n                />\r\n                {/*<button onClick={this.update_navigation}>update</button>*/}\r\n            </React.Fragment>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Navigation;"]},"metadata":{},"sourceType":"module"}