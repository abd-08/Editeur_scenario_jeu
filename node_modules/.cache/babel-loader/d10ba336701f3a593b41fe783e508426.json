{"ast":null,"code":"/**\r\n * DevExtreme (core/utils/dom.js)\r\n * Version: 18.2.13\r\n * Build date: Wed May 27 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nvar $ = require(\"../../core/renderer\"),\n    config = require(\"../../core/config\"),\n    domAdapter = require(\"../../core/dom_adapter\"),\n    windowUtils = require(\"./window\"),\n    window = windowUtils.getWindow(),\n    eventsEngine = require(\"../../events/core/events_engine\"),\n    inArray = require(\"./array\").inArray,\n    typeUtils = require(\"./type\"),\n    isDefined = typeUtils.isDefined,\n    isRenderer = typeUtils.isRenderer,\n    htmlParser = require(\"../../core/utils/html_parser\"),\n    elementStrategy;\n\nvar resetActiveElement = function () {\n  var activeElement = domAdapter.getActiveElement();\n\n  if (activeElement && activeElement !== domAdapter.getBody() && activeElement.blur) {\n    activeElement.blur();\n  }\n};\n\nvar clearSelection = function () {\n  var selection = window.getSelection();\n\n  if (!selection) {\n    return;\n  }\n\n  if (\"Caret\" === selection.type) {\n    return;\n  }\n\n  if (selection.empty) {\n    selection.empty();\n  } else {\n    if (selection.removeAllRanges) {\n      try {\n        selection.removeAllRanges();\n      } catch (e) {}\n    }\n  }\n};\n\nvar closestCommonParent = function (startTarget, endTarget) {\n  var $startTarget = $(startTarget),\n      $endTarget = $(endTarget);\n\n  if ($startTarget[0] === $endTarget[0]) {\n    return $startTarget[0];\n  }\n\n  var $startParents = $startTarget.parents(),\n      $endParents = $endTarget.parents(),\n      startingParent = Math.min($startParents.length, $endParents.length);\n\n  for (var i = -startingParent; i < 0; i++) {\n    if ($startParents.get(i) === $endParents.get(i)) {\n      return $startParents.get(i);\n    }\n  }\n};\n\nvar triggerVisibilityChangeEvent = function (eventName) {\n  var VISIBILITY_CHANGE_SELECTOR = \".dx-visibility-change-handler\";\n  return function (element) {\n    var $element = $(element || \"body\");\n    var changeHandlers = $element.filter(VISIBILITY_CHANGE_SELECTOR).add($element.find(VISIBILITY_CHANGE_SELECTOR));\n\n    for (var i = 0; i < changeHandlers.length; i++) {\n      eventsEngine.triggerHandler(changeHandlers[i], eventName);\n    }\n  };\n};\n\nvar uniqueId = function () {\n  var counter = 0;\n  return function (prefix) {\n    return (prefix || \"\") + counter++;\n  };\n}();\n\nvar dataOptionsAttributeName = \"data-options\";\n\nvar getElementOptions = function (element) {\n  var optionsString = $(element).attr(dataOptionsAttributeName) || \"\";\n  return config().optionsParser(optionsString);\n};\n\nvar createComponents = function (elements, componentTypes) {\n  var result = [],\n      selector = \"[\" + dataOptionsAttributeName + \"]\";\n  var $items = elements.find(selector).add(elements.filter(selector));\n  $items.each(function (index, element) {\n    var $element = $(element),\n        options = getElementOptions(element);\n\n    for (var componentName in options) {\n      if (!componentTypes || inArray(componentName, componentTypes) > -1) {\n        if ($element[componentName]) {\n          $element[componentName](options[componentName]);\n          result.push($element[componentName](\"instance\"));\n        }\n      }\n    }\n  });\n  return result;\n};\n\nvar createMarkupFromString = function (str) {\n  if (!window.WinJS) {\n    return $(htmlParser.parseHTML(str));\n  }\n\n  var tempElement = $(\"<div>\");\n  window.WinJS.Utilities.setInnerHTMLUnsafe(tempElement.get(0), str);\n  return tempElement.contents();\n};\n\nvar extractTemplateMarkup = function (element) {\n  element = $(element);\n  var templateTag = element.length && element.filter(function () {\n    var $node = $(this);\n    return $node.is(\"script[type]\") && $node.attr(\"type\").indexOf(\"script\") < 0;\n  });\n\n  if (templateTag.length) {\n    return templateTag.eq(0).html();\n  } else {\n    element = $(\"<div>\").append(element);\n    return element.html();\n  }\n};\n\nvar normalizeTemplateElement = function normalizeTemplateElement(element) {\n  var $element = isDefined(element) && (element.nodeType || isRenderer(element)) ? $(element) : $(\"<div>\").html(element).contents();\n\n  if (1 === $element.length) {\n    if ($element.is(\"script\")) {\n      $element = normalizeTemplateElement($element.html().trim());\n    } else {\n      if ($element.is(\"table\")) {\n        $element = $element.children(\"tbody\").contents();\n      }\n    }\n  }\n\n  return $element;\n};\n\nvar toggleAttr = function ($target, attr, value) {\n  value ? $target.attr(attr, value) : $target.removeAttr(attr);\n};\n\nvar clipboardText = function (event, text) {\n  var clipboard = event.originalEvent && event.originalEvent.clipboardData || window.clipboardData;\n\n  if (1 === arguments.length) {\n    return clipboard && clipboard.getData(\"Text\");\n  }\n\n  clipboard && clipboard.setData(\"Text\", text);\n};\n\nvar contains = function (container, element) {\n  if (!element) {\n    return false;\n  }\n\n  element = domAdapter.isTextNode(element) ? element.parentNode : element;\n  return domAdapter.isDocument(container) ? container.documentElement.contains(element) : container.contains(element);\n};\n\nvar getPublicElement = function ($element) {\n  return elementStrategy($element);\n};\n\nvar setPublicElementWrapper = function (value) {\n  elementStrategy = value;\n};\n\nsetPublicElementWrapper(function (element) {\n  return element && element.get(0);\n});\n\nvar createTextElementHiddenCopy = function (element, text, options) {\n  var elementStyles = window.getComputedStyle($(element).get(0));\n  var includePaddings = options && options.includePaddings;\n  return $(\"<div>\").text(text).css({\n    fontStyle: elementStyles.fontStyle,\n    fontVariant: elementStyles.fontVariant,\n    fontWeight: elementStyles.fontWeight,\n    fontSize: elementStyles.fontSize,\n    fontFamily: elementStyles.fontFamily,\n    letterSpacing: elementStyles.letterSpacing,\n    border: elementStyles.border,\n    paddingTop: includePaddings ? elementStyles.paddingTop : \"\",\n    paddingRight: includePaddings ? elementStyles.paddingRight : \"\",\n    paddingBottom: includePaddings ? elementStyles.paddingBottom : \"\",\n    paddingLeft: includePaddings ? elementStyles.paddingLeft : \"\",\n    visibility: \"hidden\",\n    whiteSpace: \"nowrap\",\n    position: \"absolute\",\n    \"float\": \"left\"\n  });\n};\n\nexports.setPublicElementWrapper = setPublicElementWrapper;\nexports.resetActiveElement = resetActiveElement;\nexports.createMarkupFromString = createMarkupFromString;\nexports.triggerShownEvent = triggerVisibilityChangeEvent(\"dxshown\");\nexports.triggerHidingEvent = triggerVisibilityChangeEvent(\"dxhiding\");\nexports.triggerResizeEvent = triggerVisibilityChangeEvent(\"dxresize\");\nexports.getElementOptions = getElementOptions;\nexports.createComponents = createComponents;\nexports.extractTemplateMarkup = extractTemplateMarkup;\nexports.normalizeTemplateElement = normalizeTemplateElement;\nexports.clearSelection = clearSelection;\nexports.uniqueId = uniqueId;\nexports.closestCommonParent = closestCommonParent;\nexports.clipboardText = clipboardText;\nexports.toggleAttr = toggleAttr;\nexports.contains = contains;\nexports.getPublicElement = getPublicElement;\nexports.createTextElementHiddenCopy = createTextElementHiddenCopy;","map":{"version":3,"sources":["C:/Users/abdel/PhpstormProjects/editeur_scenario_jeu/node_modules/devextreme/core/utils/dom.js"],"names":["$","require","config","domAdapter","windowUtils","window","getWindow","eventsEngine","inArray","typeUtils","isDefined","isRenderer","htmlParser","elementStrategy","resetActiveElement","activeElement","getActiveElement","getBody","blur","clearSelection","selection","getSelection","type","empty","removeAllRanges","e","closestCommonParent","startTarget","endTarget","$startTarget","$endTarget","$startParents","parents","$endParents","startingParent","Math","min","length","i","get","triggerVisibilityChangeEvent","eventName","VISIBILITY_CHANGE_SELECTOR","element","$element","changeHandlers","filter","add","find","triggerHandler","uniqueId","counter","prefix","dataOptionsAttributeName","getElementOptions","optionsString","attr","optionsParser","createComponents","elements","componentTypes","result","selector","$items","each","index","options","componentName","push","createMarkupFromString","str","WinJS","parseHTML","tempElement","Utilities","setInnerHTMLUnsafe","contents","extractTemplateMarkup","templateTag","$node","is","indexOf","eq","html","append","normalizeTemplateElement","nodeType","trim","children","toggleAttr","$target","value","removeAttr","clipboardText","event","text","clipboard","originalEvent","clipboardData","arguments","getData","setData","contains","container","isTextNode","parentNode","isDocument","documentElement","getPublicElement","setPublicElementWrapper","createTextElementHiddenCopy","elementStyles","getComputedStyle","includePaddings","css","fontStyle","fontVariant","fontWeight","fontSize","fontFamily","letterSpacing","border","paddingTop","paddingRight","paddingBottom","paddingLeft","visibility","whiteSpace","position","exports","triggerShownEvent","triggerHidingEvent","triggerResizeEvent"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (core/utils/dom.js)\r\n * Version: 18.2.13\r\n * Build date: Wed May 27 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nvar $ = require(\"../../core/renderer\"),\r\n    config = require(\"../../core/config\"),\r\n    domAdapter = require(\"../../core/dom_adapter\"),\r\n    windowUtils = require(\"./window\"),\r\n    window = windowUtils.getWindow(),\r\n    eventsEngine = require(\"../../events/core/events_engine\"),\r\n    inArray = require(\"./array\").inArray,\r\n    typeUtils = require(\"./type\"),\r\n    isDefined = typeUtils.isDefined,\r\n    isRenderer = typeUtils.isRenderer,\r\n    htmlParser = require(\"../../core/utils/html_parser\"),\r\n    elementStrategy;\r\nvar resetActiveElement = function() {\r\n    var activeElement = domAdapter.getActiveElement();\r\n    if (activeElement && activeElement !== domAdapter.getBody() && activeElement.blur) {\r\n        activeElement.blur()\r\n    }\r\n};\r\nvar clearSelection = function() {\r\n    var selection = window.getSelection();\r\n    if (!selection) {\r\n        return\r\n    }\r\n    if (\"Caret\" === selection.type) {\r\n        return\r\n    }\r\n    if (selection.empty) {\r\n        selection.empty()\r\n    } else {\r\n        if (selection.removeAllRanges) {\r\n            try {\r\n                selection.removeAllRanges()\r\n            } catch (e) {}\r\n        }\r\n    }\r\n};\r\nvar closestCommonParent = function(startTarget, endTarget) {\r\n    var $startTarget = $(startTarget),\r\n        $endTarget = $(endTarget);\r\n    if ($startTarget[0] === $endTarget[0]) {\r\n        return $startTarget[0]\r\n    }\r\n    var $startParents = $startTarget.parents(),\r\n        $endParents = $endTarget.parents(),\r\n        startingParent = Math.min($startParents.length, $endParents.length);\r\n    for (var i = -startingParent; i < 0; i++) {\r\n        if ($startParents.get(i) === $endParents.get(i)) {\r\n            return $startParents.get(i)\r\n        }\r\n    }\r\n};\r\nvar triggerVisibilityChangeEvent = function(eventName) {\r\n    var VISIBILITY_CHANGE_SELECTOR = \".dx-visibility-change-handler\";\r\n    return function(element) {\r\n        var $element = $(element || \"body\");\r\n        var changeHandlers = $element.filter(VISIBILITY_CHANGE_SELECTOR).add($element.find(VISIBILITY_CHANGE_SELECTOR));\r\n        for (var i = 0; i < changeHandlers.length; i++) {\r\n            eventsEngine.triggerHandler(changeHandlers[i], eventName)\r\n        }\r\n    }\r\n};\r\nvar uniqueId = function() {\r\n    var counter = 0;\r\n    return function(prefix) {\r\n        return (prefix || \"\") + counter++\r\n    }\r\n}();\r\nvar dataOptionsAttributeName = \"data-options\";\r\nvar getElementOptions = function(element) {\r\n    var optionsString = $(element).attr(dataOptionsAttributeName) || \"\";\r\n    return config().optionsParser(optionsString)\r\n};\r\nvar createComponents = function(elements, componentTypes) {\r\n    var result = [],\r\n        selector = \"[\" + dataOptionsAttributeName + \"]\";\r\n    var $items = elements.find(selector).add(elements.filter(selector));\r\n    $items.each(function(index, element) {\r\n        var $element = $(element),\r\n            options = getElementOptions(element);\r\n        for (var componentName in options) {\r\n            if (!componentTypes || inArray(componentName, componentTypes) > -1) {\r\n                if ($element[componentName]) {\r\n                    $element[componentName](options[componentName]);\r\n                    result.push($element[componentName](\"instance\"))\r\n                }\r\n            }\r\n        }\r\n    });\r\n    return result\r\n};\r\nvar createMarkupFromString = function(str) {\r\n    if (!window.WinJS) {\r\n        return $(htmlParser.parseHTML(str))\r\n    }\r\n    var tempElement = $(\"<div>\");\r\n    window.WinJS.Utilities.setInnerHTMLUnsafe(tempElement.get(0), str);\r\n    return tempElement.contents()\r\n};\r\nvar extractTemplateMarkup = function(element) {\r\n    element = $(element);\r\n    var templateTag = element.length && element.filter(function() {\r\n        var $node = $(this);\r\n        return $node.is(\"script[type]\") && $node.attr(\"type\").indexOf(\"script\") < 0\r\n    });\r\n    if (templateTag.length) {\r\n        return templateTag.eq(0).html()\r\n    } else {\r\n        element = $(\"<div>\").append(element);\r\n        return element.html()\r\n    }\r\n};\r\nvar normalizeTemplateElement = function normalizeTemplateElement(element) {\r\n    var $element = isDefined(element) && (element.nodeType || isRenderer(element)) ? $(element) : $(\"<div>\").html(element).contents();\r\n    if (1 === $element.length) {\r\n        if ($element.is(\"script\")) {\r\n            $element = normalizeTemplateElement($element.html().trim())\r\n        } else {\r\n            if ($element.is(\"table\")) {\r\n                $element = $element.children(\"tbody\").contents()\r\n            }\r\n        }\r\n    }\r\n    return $element\r\n};\r\nvar toggleAttr = function($target, attr, value) {\r\n    value ? $target.attr(attr, value) : $target.removeAttr(attr)\r\n};\r\nvar clipboardText = function(event, text) {\r\n    var clipboard = event.originalEvent && event.originalEvent.clipboardData || window.clipboardData;\r\n    if (1 === arguments.length) {\r\n        return clipboard && clipboard.getData(\"Text\")\r\n    }\r\n    clipboard && clipboard.setData(\"Text\", text)\r\n};\r\nvar contains = function(container, element) {\r\n    if (!element) {\r\n        return false\r\n    }\r\n    element = domAdapter.isTextNode(element) ? element.parentNode : element;\r\n    return domAdapter.isDocument(container) ? container.documentElement.contains(element) : container.contains(element)\r\n};\r\nvar getPublicElement = function($element) {\r\n    return elementStrategy($element)\r\n};\r\nvar setPublicElementWrapper = function(value) {\r\n    elementStrategy = value\r\n};\r\nsetPublicElementWrapper(function(element) {\r\n    return element && element.get(0)\r\n});\r\nvar createTextElementHiddenCopy = function(element, text, options) {\r\n    var elementStyles = window.getComputedStyle($(element).get(0));\r\n    var includePaddings = options && options.includePaddings;\r\n    return $(\"<div>\").text(text).css({\r\n        fontStyle: elementStyles.fontStyle,\r\n        fontVariant: elementStyles.fontVariant,\r\n        fontWeight: elementStyles.fontWeight,\r\n        fontSize: elementStyles.fontSize,\r\n        fontFamily: elementStyles.fontFamily,\r\n        letterSpacing: elementStyles.letterSpacing,\r\n        border: elementStyles.border,\r\n        paddingTop: includePaddings ? elementStyles.paddingTop : \"\",\r\n        paddingRight: includePaddings ? elementStyles.paddingRight : \"\",\r\n        paddingBottom: includePaddings ? elementStyles.paddingBottom : \"\",\r\n        paddingLeft: includePaddings ? elementStyles.paddingLeft : \"\",\r\n        visibility: \"hidden\",\r\n        whiteSpace: \"nowrap\",\r\n        position: \"absolute\",\r\n        \"float\": \"left\"\r\n    })\r\n};\r\nexports.setPublicElementWrapper = setPublicElementWrapper;\r\nexports.resetActiveElement = resetActiveElement;\r\nexports.createMarkupFromString = createMarkupFromString;\r\nexports.triggerShownEvent = triggerVisibilityChangeEvent(\"dxshown\");\r\nexports.triggerHidingEvent = triggerVisibilityChangeEvent(\"dxhiding\");\r\nexports.triggerResizeEvent = triggerVisibilityChangeEvent(\"dxresize\");\r\nexports.getElementOptions = getElementOptions;\r\nexports.createComponents = createComponents;\r\nexports.extractTemplateMarkup = extractTemplateMarkup;\r\nexports.normalizeTemplateElement = normalizeTemplateElement;\r\nexports.clearSelection = clearSelection;\r\nexports.uniqueId = uniqueId;\r\nexports.closestCommonParent = closestCommonParent;\r\nexports.clipboardText = clipboardText;\r\nexports.toggleAttr = toggleAttr;\r\nexports.contains = contains;\r\nexports.getPublicElement = getPublicElement;\r\nexports.createTextElementHiddenCopy = createTextElementHiddenCopy;\r\n"]},"metadata":{},"sourceType":"script"}